!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],t):"object"==typeof exports?exports.PhotoLayoutEditor=t(require("React"),require("ReactDOM")):e.PhotoLayoutEditor=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./",t(t.s=34)}([function(t,n){t.exports=e},function(e,t,n){var r,o;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var i={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(o=function(){return n}.apply(t,r))&&(e.exports=o))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.resamplingImage=t.Canvas=t.makingImage=t.uploader=t.object=t.color=t.number=t.util=void 0;var i=n(80),a=o(i),u=n(81),s=o(u),l=n(30),c=o(l),f=n(82),p=o(f),d=n(83),h=r(d),g=n(84),y=r(g),v=n(85),m=r(v),b=n(86),w=r(b);t.util=a,t.number=s,t.color=p,t.object=c,t.uploader=h.default,t.makingImage=y.default,t.Canvas=m.default,t.resamplingImage=w.default},function(e,t,n){e.exports=n(50)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_PLE="INIT_PLE",t.SIDE_VISIBLE="SIDE_VISIBLE",t.SIDE_ADD_FILES="SIDE_ADD_FILES",t.SIDE_REMOVE_FILES="SIDE_REMOVE_FILES",t.SIDE_UPDATE_SELECTED="SIDE_UPDATE_SELECTED",t.SIDE_TOGGLE="SIDE_TOGGLE",t.SIDE_UPDATE_PROGRESS="SIDE_UPDATE_PROGRESS",t.GRID_ATTACH_IMAGES="GRID_ATTACH_IMAGES",t.GRID_ATTACH_IMAGE="GRID_ATTACH_IMAGE",t.GRID_ADD_BLOCK="GRID_ADD_BLOCK",t.GRID_REMOVE_BLOCK="GRID_REMOVE_BLOCK",t.GRID_SHUFFLE_BLOCKS="GRID_SHUFFLE_BLOCKS",t.GRID_DUPLICATE_BLOCK="GRID_DUPLICATE_BLOCK",t.GRID_UPDATE_BLOCKS="GRID_UPDATE_BLOCKS",t.GRID_ACTIVE_BLOCK="GRID_ACTIVE_BLOCK",t.GRID_SETTING_UPDATE="GRID_SETTING_UPDATE",t.GRID_CHANGE_COLOR="GRID_CHANGE_COLOR",t.CROPPER_OPEN="CROPPER_OPEN",t.CROPPER_CLOSE="CROPPER_CLOSE"},function(e,t,n){var r,o;/*!
 * jQuery JavaScript Library v3.2.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-03-20T19:00Z
 */
!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,i){"use strict";function a(e,t){t=t||X;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function u(e){var t=!!e&&"length"in e&&e.length,n=ae.type(e);return"function"!==n&&!ae.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function l(e,t,n){return ae.isFunction(t)?ae.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?ae.grep(e,function(e){return e===t!==n}):"string"!=typeof t?ae.grep(e,function(e){return J.call(t,e)>-1!==n}):ye.test(t)?ae.filter(t,e,n):(t=ae.filter(t,e),ae.grep(e,function(e){return J.call(t,e)>-1!==n&&1===e.nodeType}))}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function f(e){var t={};return ae.each(e.match(_e)||[],function(e,n){t[n]=!0}),t}function p(e){return e}function d(e){throw e}function h(e,t,n,r){var o;try{e&&ae.isFunction(o=e.promise)?o.call(e).done(t).fail(n):e&&ae.isFunction(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function g(){X.removeEventListener("DOMContentLoaded",g),n.removeEventListener("load",g),ae.ready()}function y(){this.expando=ae.expando+y.uid++}function v(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Pe.test(e)?JSON.parse(e):e)}function m(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(je,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=v(n)}catch(e){}Ce.set(e,t,n)}else n=void 0;return n}function b(e,t,n,r){var o,i=1,a=20,u=r?function(){return r.cur()}:function(){return ae.css(e,t,"")},s=u(),l=n&&n[3]||(ae.cssNumber[t]?"":"px"),c=(ae.cssNumber[t]||"px"!==l&&+s)&&De.exec(ae.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+s||1;do{i=i||".5",c/=i,ae.style(e,t,c+l)}while(i!==(i=u()/s)&&1!==i&&--a)}return n&&(c=+c||+s||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=o)),o}function w(e){var t,n=e.ownerDocument,r=e.nodeName,o=Me[r];return o||(t=n.body.appendChild(n.createElement(r)),o=ae.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Me[r]=o,o)}function _(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)r=e[i],r.style&&(n=r.style.display,t?("none"===n&&(o[i]=ke.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&Ne(r)&&(o[i]=w(r))):"none"!==n&&(o[i]="none",ke.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}function E(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&s(e,t)?ae.merge([e],n):n}function O(e,t){for(var n=0,r=e.length;n<r;n++)ke.set(e[n],"globalEval",!t||ke.get(t[n],"globalEval"))}function S(e,t,n,r,o){for(var i,a,u,s,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((i=e[d])||0===i)if("object"===ae.type(i))ae.merge(p,i.nodeType?[i]:i);else if(He.test(i)){for(a=a||f.appendChild(t.createElement("div")),u=(Le.exec(i)||["",""])[1].toLowerCase(),s=Be[u]||Be._default,a.innerHTML=s[1]+ae.htmlPrefilter(i)+s[2],c=s[0];c--;)a=a.lastChild;ae.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(t.createTextNode(i));for(f.textContent="",d=0;i=p[d++];)if(r&&ae.inArray(i,r)>-1)o&&o.push(i);else if(l=ae.contains(i.ownerDocument,i),a=E(f.appendChild(i),"script"),l&&O(a),n)for(c=0;i=a[c++];)ze.test(i.type||"")&&n.push(i);return f}function x(){return!0}function k(){return!1}function C(){try{return X.activeElement}catch(e){}}function P(e,t,n,r,o,i){var a,u;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(u in t)P(e,u,n,r,t[u],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=k;else if(!o)return e;return 1===i&&(a=o,o=function(e){return ae().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ae.guid++)),e.each(function(){ae.event.add(this,t,o,r,n)})}function j(e,t){return s(e,"table")&&s(11!==t.nodeType?t:t.firstChild,"tr")?ae(">tbody",e)[0]||e:e}function T(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function D(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function R(e,t){var n,r,o,i,a,u,s,l;if(1===t.nodeType){if(ke.hasData(e)&&(i=ke.access(e),a=ke.set(t,i),l=i.events)){delete a.handle,a.events={};for(o in l)for(n=0,r=l[o].length;n<r;n++)ae.event.add(t,o,l[o][n])}Ce.hasData(e)&&(u=Ce.access(e),s=ae.extend({},u),Ce.set(t,s))}}function N(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ae.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function I(e,t,n,r){t=K.apply([],t);var o,i,u,s,l,c,f=0,p=e.length,d=p-1,h=t[0],g=ae.isFunction(h);if(g||p>1&&"string"==typeof h&&!oe.checkClone&&Xe.test(h))return e.each(function(o){var i=e.eq(o);g&&(t[0]=h.call(this,o,i.html())),I(i,t,n,r)});if(p&&(o=S(t,e[0].ownerDocument,!1,e,r),i=o.firstChild,1===o.childNodes.length&&(o=i),i||r)){for(u=ae.map(E(o,"script"),T),s=u.length;f<p;f++)l=o,f!==d&&(l=ae.clone(l,!0,!0),s&&ae.merge(u,E(l,"script"))),n.call(e[f],l,f);if(s)for(c=u[u.length-1].ownerDocument,ae.map(u,D),f=0;f<s;f++)l=u[f],ze.test(l.type||"")&&!ke.access(l,"globalEval")&&ae.contains(c,l)&&(l.src?ae._evalUrl&&ae._evalUrl(l.src):a(l.textContent.replace(Ye,""),c))}return e}function M(e,t,n){for(var r,o=t?ae.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||ae.cleanData(E(r)),r.parentNode&&(n&&ae.contains(r.ownerDocument,r)&&O(E(r,"script")),r.parentNode.removeChild(r));return e}function A(e,t,n){var r,o,i,a,u=e.style;return n=n||Je(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||ae.contains(e.ownerDocument,e)||(a=ae.style(e,t)),!oe.pixelMarginRight()&&Qe.test(a)&&Ke.test(t)&&(r=u.width,o=u.minWidth,i=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=o,u.maxWidth=i)),void 0!==a?a+"":a}function L(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function z(e){if(e in ot)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=rt.length;n--;)if((e=rt[n]+t)in ot)return e}function B(e){var t=ae.cssProps[e];return t||(t=ae.cssProps[e]=z(e)||e),t}function H(e,t,n){var r=De.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function F(e,t,n,r,o){var i,a=0;for(i=n===(r?"border":"content")?4:"width"===t?1:0;i<4;i+=2)"margin"===n&&(a+=ae.css(e,n+Re[i],!0,o)),r?("content"===n&&(a-=ae.css(e,"padding"+Re[i],!0,o)),"margin"!==n&&(a-=ae.css(e,"border"+Re[i]+"Width",!0,o))):(a+=ae.css(e,"padding"+Re[i],!0,o),"padding"!==n&&(a+=ae.css(e,"border"+Re[i]+"Width",!0,o)));return a}function W(e,t,n){var r,o=Je(e),i=A(e,t,o),a="border-box"===ae.css(e,"boxSizing",!1,o);return Qe.test(i)?i:(r=a&&(oe.boxSizingReliable()||i===e.style[t]),"auto"===i&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)]),(i=parseFloat(i)||0)+F(e,t,n||(a?"border":"content"),r,o)+"px")}function q(e){return(e.match(_e)||[]).join(" ")}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function G(e,t,n,r){var o;if(Array.isArray(t))ae.each(t,function(t,o){n||ft.test(e)?r(e,o):G(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==ae.type(t))r(e,t);else for(o in t)G(e+"["+o+"]",t[o],n,r)}var $=[],X=n.document,V=Object.getPrototypeOf,Y=$.slice,K=$.concat,Q=$.push,J=$.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne=te.toString,re=ne.call(Object),oe={},ie="3.2.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",ae=function(e,t){return new ae.fn.init(e,t)},ue=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([a-z])/g,ce=function(e,t){return t.toUpperCase()};ae.fn=ae.prototype={jquery:ie,constructor:ae,length:0,toArray:function(){return Y.call(this)},get:function(e){return null==e?Y.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ae.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ae.each(this,e)},map:function(e){return this.pushStack(ae.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Q,sort:$.sort,splice:$.splice},ae.extend=ae.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},u=1,s=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[u]||{},u++),"object"==typeof a||ae.isFunction(a)||(a={}),u===s&&(a=this,u--);u<s;u++)if(null!=(e=arguments[u]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(ae.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,i=n&&Array.isArray(n)?n:[]):i=n&&ae.isPlainObject(n)?n:{},a[t]=ae.extend(l,i,r)):void 0!==r&&(a[t]=r));return a},ae.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ae.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ae.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ee.call(e)||(t=V(e))&&("function"!=typeof(n=te.call(t,"constructor")&&t.constructor)||ne.call(n)!==re))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(e){a(e)},camelCase:function(e){return e.replace(se,"ms-").replace(le,ce)},each:function(e,t){var n,r=0;if(u(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ue,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(u(Object(e))?ae.merge(n,"string"==typeof e?[e]:e):Q.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:J.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(u(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return K.apply([],a)},guid:1,proxy:function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),ae.isFunction(e))return r=Y.call(arguments,2),o=function(){return e.apply(t||this,r.concat(Y.call(arguments)))},o.guid=e.guid=e.guid||ae.guid++,o},now:Date.now,support:oe}),"function"==typeof Symbol&&(ae.fn[Symbol.iterator]=$[Symbol.iterator]),ae.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var fe=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(e){function t(e,t,n,r){var o,i,a,u,s,c,p,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:B)!==D&&T(t),t=t||D,N)){if(11!==h&&(s=ge.exec(e)))if(o=s[1]){if(9===h){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(d&&(a=d.getElementById(o))&&L(t,a)&&a.id===o)return n.push(a),n}else{if(s[2])return K.apply(n,t.getElementsByTagName(e)),n;if((o=s[3])&&w.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&!U[e+" "]&&(!I||!I.test(e))){if(1!==h)d=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(be,we):t.setAttribute("id",u=z),c=S(e),i=c.length;i--;)c[i]="#"+u+" "+f(c[i]);p=c.join(","),d=ye.test(e)&&l(t.parentNode)||t}if(p)try{return K.apply(n,d.querySelectorAll(p)),n}catch(e){}finally{u===z&&t.removeAttribute("id")}}}return k(e.replace(ie,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[z]=!0,e}function o(e){var t=D.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)_.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function s(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,u=F++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,s){var l,c,f,p=[H,u];if(s){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[z]||(t[z]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[i])&&l[0]===H&&l[1]===u)return p[2]=l[2];if(c[i]=p,p[2]=e(t,n,s))return!0}return!1}}function d(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var o=0,i=n.length;o<i;o++)t(e,n[o],r);return r}function g(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,l=null!=t;u<s;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),l&&t.push(u)));return a}function y(e,t,n,o,i,a){return o&&!o[z]&&(o=y(o)),i&&!i[z]&&(i=y(i,a)),r(function(r,a,u,s){var l,c,f,p=[],d=[],y=a.length,v=r||h(t||"*",u.nodeType?[u]:u,[]),m=!e||!r&&t?v:g(v,p,e,u,s),b=n?i||(r?e:y||o)?[]:a:m;if(n&&n(m,b,u,s),o)for(l=g(b,d),o(l,[],u,s),c=l.length;c--;)(f=l[c])&&(b[d[c]]=!(m[d[c]]=f));if(r){if(i||e){if(i){for(l=[],c=b.length;c--;)(f=b[c])&&l.push(m[c]=f);i(null,b=[],l,s)}for(c=b.length;c--;)(f=b[c])&&(l=i?J(r,f):p[c])>-1&&(r[l]=!(a[l]=f))}}else b=g(b===a?b.splice(y,b.length):b),i?i(null,a,b,s):K.apply(a,b)})}function v(e){for(var t,n,r,o=e.length,i=_.relative[e[0].type],a=i||_.relative[" "],u=i?1:0,s=p(function(e){return e===t},a,!0),l=p(function(e){return J(t,e)>-1},a,!0),c=[function(e,n,r){var o=!i&&(r||n!==C)||((t=n).nodeType?s(e,n,r):l(e,n,r));return t=null,o}];u<o;u++)if(n=_.relative[e[u].type])c=[p(d(c),n)];else{if(n=_.filter[e[u].type].apply(null,e[u].matches),n[z]){for(r=++u;r<o&&!_.relative[e[r].type];r++);return y(u>1&&d(c),u>1&&f(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(ie,"$1"),n,u<r&&v(e.slice(u,r)),r<o&&v(e=e.slice(r)),r<o&&f(e))}c.push(n)}return d(c)}function m(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,u,s,l){var c,f,p,d=0,h="0",y=r&&[],v=[],m=C,b=r||i&&_.find.TAG("*",l),w=H+=null==m?1:Math.random()||.1,E=b.length;for(l&&(C=a===D||a||l);h!==E&&null!=(c=b[h]);h++){if(i&&c){for(f=0,a||c.ownerDocument===D||(T(c),u=!N);p=e[f++];)if(p(c,a||D,u)){s.push(c);break}l&&(H=w)}o&&((c=!p&&c)&&d--,r&&y.push(c))}if(d+=h,o&&h!==d){for(f=0;p=n[f++];)p(y,v,a,u);if(r){if(d>0)for(;h--;)y[h]||v[h]||(v[h]=V.call(s));v=g(v)}K.apply(s,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(s)}return l&&(H=w,C=m),y};return o?r(a):a}var b,w,_,E,O,S,x,k,C,P,j,T,D,R,N,I,M,A,L,z="sizzle"+1*new Date,B=e.document,H=0,F=0,W=n(),q=n(),U=n(),G=function(e,t){return e===t&&(j=!0),0},$={}.hasOwnProperty,X=[],V=X.pop,Y=X.push,K=X.push,Q=X.slice,J=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",oe=new RegExp(ee+"+","g"),ie=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),ue=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),se=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(re),ce=new RegExp("^"+te+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,de=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),me=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},_e=function(){T()},Ee=p(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{K.apply(X=Q.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(e){K={apply:X.length?function(e,t){Y.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},O=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,R=D.documentElement,N=!O(D),B!==D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_e,!1):n.attachEvent&&n.attachEvent("onunload",_e)),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=he.test(D.getElementsByClassName),w.getById=o(function(e){return R.appendChild(e).id=z,!D.getElementsByName||!D.getElementsByName(z).length}),w.getById?(_.filter.ID=function(e){var t=e.replace(ve,me);return function(e){return e.getAttribute("id")===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&N){var n=t.getElementById(e);return n?[n]:[]}}):(_.filter.ID=function(e){var t=e.replace(ve,me);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&N){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),_.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},_.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&N)return t.getElementsByClassName(e)},M=[],I=[],(w.qsa=he.test(D.querySelectorAll))&&(o(function(e){R.appendChild(e).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+z+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+z+"+*").length||I.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled"),R.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(w.matchesSelector=he.test(A=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&o(function(e){w.disconnectedMatch=A.call(e,"*"),A.call(e,"[s!='']:x"),M.push("!=",re)}),I=I.length&&new RegExp(I.join("|")),M=M.length&&new RegExp(M.join("|")),t=he.test(R.compareDocumentPosition),L=t||he.test(R.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===D||e.ownerDocument===B&&L(B,e)?-1:t===D||t.ownerDocument===B&&L(B,t)?1:P?J(P,e)-J(P,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,u=[e],s=[t];if(!o||!i)return e===D?-1:t===D?1:o?-1:i?1:P?J(P,e)-J(P,t):0;if(o===i)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;u[r]===s[r];)r++;return r?a(u[r],s[r]):u[r]===B?-1:s[r]===B?1:0},D):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==D&&T(e),n=n.replace(se,"='$1']"),w.matchesSelector&&N&&!U[n+" "]&&(!M||!M.test(n))&&(!I||!I.test(n)))try{var r=A.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&T(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&T(e);var n=_.attrHandle[t.toLowerCase()],r=n&&$.call(_.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==r?r:w.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(be,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(j=!w.detectDuplicates,P=!w.sortStable&&e.slice(0),e.sort(G),j){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return P=null,e},E=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},_=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,me),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,me),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,me).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(oe," ")+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,s){var l,c,f,p,d,h,g=i!==a?"nextSibling":"previousSibling",y=t.parentNode,v=u&&t.nodeName.toLowerCase(),m=!s&&!u,b=!1;if(y){if(i){for(;g;){for(p=t;p=p[g];)if(u?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){for(p=y,f=p[z]||(p[z]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===H&&l[1],b=d&&l[2],p=d&&y.childNodes[d];p=++d&&p&&p[g]||(b=d=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[H,d,b];break}}else if(m&&(p=t,f=p[z]||(p[z]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===H&&l[1],b=d),!1===b)for(;(p=++d&&p&&p[g]||(b=d=0)||h.pop())&&((u?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(m&&(f=p[z]||(p[z]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[H,b]),p!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var o,i=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[z]?i(n):i.length>1?(o=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)r=J(e,o[a]),e[r]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=x(e.replace(ie,"$1"));return o[z]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ve,me),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,me).toLowerCase(),function(t){var n;do{if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===R},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return de.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},_.pseudos.nth=_.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})_.pseudos[b]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(b);return c.prototype=_.filters=_.pseudos,_.setFilters=new c,S=t.tokenize=function(e,n){var r,o,i,a,u,s,l,c=q[e+" "];if(c)return n?0:c.slice(0);for(u=e,s=[],l=_.preFilter;u;){r&&!(o=ae.exec(u))||(o&&(u=u.slice(o[0].length)||u),s.push(i=[])),r=!1,(o=ue.exec(u))&&(r=o.shift(),i.push({value:r,type:o[0].replace(ie," ")}),u=u.slice(r.length));for(a in _.filter)!(o=fe[a].exec(u))||l[a]&&!(o=l[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),u=u.slice(r.length));if(!r)break}return n?u.length:u?t.error(e):q(e,s).slice(0)},x=t.compile=function(e,t){var n,r=[],o=[],i=U[e+" "];if(!i){for(t||(t=S(e)),n=t.length;n--;)i=v(t[n]),i[z]?r.push(i):o.push(i);i=U(e,m(o,r)),i.selector=e}return i},k=t.select=function(e,t,n,r){var o,i,a,u,s,c="function"==typeof e&&e,p=!r&&S(e=c.selector||e);if(n=n||[],1===p.length){if(i=p[0]=p[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&9===t.nodeType&&N&&_.relative[i[1].type]){if(!(t=(_.find.ID(a.matches[0].replace(ve,me),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=fe.needsContext.test(e)?0:i.length;o--&&(a=i[o],!_.relative[u=a.type]);)if((s=_.find[u])&&(r=s(a.matches[0].replace(ve,me),ye.test(i[0].type)&&l(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&f(i)))return K.apply(n,r),n;break}}return(c||x(e,p))(r,t,!N,n,!t||ye.test(e)&&l(t.parentNode)||t),n},w.sortStable=z.split("").sort(G).join("")===z,w.detectDuplicates=!!j,T(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(D.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(n);ae.find=fe,ae.expr=fe.selectors,ae.expr[":"]=ae.expr.pseudos,ae.uniqueSort=ae.unique=fe.uniqueSort,ae.text=fe.getText,ae.isXMLDoc=fe.isXML,ae.contains=fe.contains,ae.escapeSelector=fe.escape;var pe=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ae(e).is(n))break;r.push(e)}return r},de=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},he=ae.expr.match.needsContext,ge=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,ye=/^.[^:#\[\.,]*$/;ae.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ae.find.matchesSelector(r,e)?[r]:[]:ae.find.matches(e,ae.grep(t,function(e){return 1===e.nodeType}))},ae.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(ae(e).filter(function(){for(t=0;t<r;t++)if(ae.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ae.find(e,o[t],n);return r>1?ae.uniqueSort(n):n},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&he.test(e)?ae(e):e||[],!1).length}});var ve,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ae.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||ve,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:me.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ae?t[0]:t,ae.merge(this,ae.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),ge.test(r[1])&&ae.isPlainObject(t))for(r in t)ae.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=X.getElementById(r[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ae.isFunction(e)?void 0!==n.ready?n.ready(e):e(ae):ae.makeArray(e,this)}).prototype=ae.fn,ve=ae(X);var be=/^(?:parents|prev(?:Until|All))/,we={children:!0,contents:!0,next:!0,prev:!0};ae.fn.extend({has:function(e){var t=ae(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ae.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&ae(e);if(!he.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ae.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?ae.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?J.call(ae(e),this[0]):J.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ae.uniqueSort(ae.merge(this.get(),ae(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ae.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return pe(e,"parentNode")},parentsUntil:function(e,t,n){return pe(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return pe(e,"nextSibling")},prevAll:function(e){return pe(e,"previousSibling")},nextUntil:function(e,t,n){return pe(e,"nextSibling",n)},prevUntil:function(e,t,n){return pe(e,"previousSibling",n)},siblings:function(e){return de((e.parentNode||{}).firstChild,e)},children:function(e){return de(e.firstChild)},contents:function(e){return s(e,"iframe")?e.contentDocument:(s(e,"template")&&(e=e.content||e),ae.merge([],e.childNodes))}},function(e,t){ae.fn[e]=function(n,r){var o=ae.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=ae.filter(r,o)),this.length>1&&(we[e]||ae.uniqueSort(o),be.test(e)&&o.reverse()),this.pushStack(o)}});var _e=/[^\x20\t\r\n\f]+/g;ae.Callbacks=function(e){e="string"==typeof e?f(e):ae.extend({},e);var t,n,r,o,i=[],a=[],u=-1,s=function(){for(o=o||e.once,r=t=!0;a.length;u=-1)for(n=a.shift();++u<i.length;)!1===i[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},l={add:function(){return i&&(n&&!t&&(u=i.length-1,a.push(n)),function t(n){ae.each(n,function(n,r){ae.isFunction(r)?e.unique&&l.has(r)||i.push(r):r&&r.length&&"string"!==ae.type(r)&&t(r)})}(arguments),n&&!t&&s()),this},remove:function(){return ae.each(arguments,function(e,t){for(var n;(n=ae.inArray(t,i,n))>-1;)i.splice(n,1),n<=u&&u--}),this},has:function(e){return e?ae.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||s()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},ae.extend({Deferred:function(e){var t=[["notify","progress",ae.Callbacks("memory"),ae.Callbacks("memory"),2],["resolve","done",ae.Callbacks("once memory"),ae.Callbacks("once memory"),0,"resolved"],["reject","fail",ae.Callbacks("once memory"),ae.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return ae.Deferred(function(n){ae.each(t,function(t,r){var o=ae.isFunction(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&ae.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,r,o){function i(e,t,r,o){return function(){var u=this,s=arguments,l=function(){var n,l;if(!(e<a)){if((n=r.apply(u,s))===t.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,ae.isFunction(l)?o?l.call(n,i(a,t,p,o),i(a,t,d,o)):(a++,l.call(n,i(a,t,p,o),i(a,t,d,o),i(a,t,p,t.notifyWith))):(r!==p&&(u=void 0,s=[n]),(o||t.resolveWith)(u,s))}},c=o?l:function(){try{l()}catch(n){ae.Deferred.exceptionHook&&ae.Deferred.exceptionHook(n,c.stackTrace),e+1>=a&&(r!==d&&(u=void 0,s=[n]),t.rejectWith(u,s))}};e?c():(ae.Deferred.getStackHook&&(c.stackTrace=ae.Deferred.getStackHook()),n.setTimeout(c))}}var a=0;return ae.Deferred(function(n){t[0][3].add(i(0,n,ae.isFunction(o)?o:p,n.notifyWith)),t[1][3].add(i(0,n,ae.isFunction(e)?e:p)),t[2][3].add(i(0,n,ae.isFunction(r)?r:d))}).promise()},promise:function(e){return null!=e?ae.extend(e,o):o}},i={};return ae.each(t,function(e,n){var a=n[2],u=n[5];o[n[1]]=a.add,u&&a.add(function(){r=u},t[3-e][2].disable,t[0][2].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=Y.call(arguments),i=ae.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?Y.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(h(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||ae.isFunction(o[n]&&o[n].then)))return i.then();for(;n--;)h(o[n],a(n),i.reject);return i.promise()}});var Ee=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ae.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Ee.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ae.readyException=function(e){n.setTimeout(function(){throw e})};var Oe=ae.Deferred();ae.fn.ready=function(e){return Oe.then(e).catch(function(e){ae.readyException(e)}),this},ae.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ae.readyWait:ae.isReady)||(ae.isReady=!0,!0!==e&&--ae.readyWait>0||Oe.resolveWith(X,[ae]))}}),ae.ready.then=Oe.then,"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?n.setTimeout(ae.ready):(X.addEventListener("DOMContentLoaded",g),n.addEventListener("load",g));var Se=function(e,t,n,r,o,i,a){var u=0,s=e.length,l=null==n;if("object"===ae.type(n)){o=!0;for(u in n)Se(e,t,u,n[u],!0,i,a)}else if(void 0!==r&&(o=!0,ae.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ae(e),n)})),t))for(;u<s;u++)t(e[u],n,a?r:r.call(e[u],u,t(e[u],n)));return o?e:l?t.call(e):s?t(e[0],n):i},xe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};y.uid=1,y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},xe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[ae.camelCase(t)]=n;else for(r in t)o[ae.camelCase(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ae.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(ae.camelCase):(t=ae.camelCase(t),t=t in r?[t]:t.match(_e)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||ae.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ae.isEmptyObject(t)}};var ke=new y,Ce=new y,Pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,je=/[A-Z]/g;ae.extend({hasData:function(e){return Ce.hasData(e)||ke.hasData(e)},data:function(e,t,n){return Ce.access(e,t,n)},removeData:function(e,t){Ce.remove(e,t)},_data:function(e,t,n){return ke.access(e,t,n)},_removeData:function(e,t){ke.remove(e,t)}}),ae.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=Ce.get(i),1===i.nodeType&&!ke.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ae.camelCase(r.slice(5)),m(i,r,o[r])));ke.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Ce.set(this,e)}):Se(this,function(t){var n;if(i&&void 0===t){if(void 0!==(n=Ce.get(i,e)))return n;if(void 0!==(n=m(i,e)))return n}else this.each(function(){Ce.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ce.remove(this,e)})}}),ae.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ke.get(e,t),n&&(!r||Array.isArray(n)?r=ke.access(e,t,ae.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ae.queue(e,t),r=n.length,o=n.shift(),i=ae._queueHooks(e,t),a=function(){ae.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ke.get(e,n)||ke.access(e,n,{empty:ae.Callbacks("once memory").add(function(){ke.remove(e,[t+"queue",n])})})}}),ae.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ae.queue(this[0],e):void 0===t?this:this.each(function(){var n=ae.queue(this,e,t);ae._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ae.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ae.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=ae.Deferred(),i=this,a=this.length,u=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=ke.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(u));return u(),o.promise(t)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,De=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Ne=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&ae.contains(e.ownerDocument,e)&&"none"===ae.css(e,"display")},Ie=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o},Me={};ae.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ne(this)?ae(this).show():ae(this).hide()})}});var Ae=/^(?:checkbox|radio)$/i,Le=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ze=/^$|\/(?:java|ecma)script/i,Be={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Be.optgroup=Be.option,Be.tbody=Be.tfoot=Be.colgroup=Be.caption=Be.thead,Be.th=Be.td;var He=/<|&#?\w+;/;!function(){var e=X.createDocumentFragment(),t=e.appendChild(X.createElement("div")),n=X.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),oe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",oe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Fe=X.documentElement,We=/^key/,qe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ue=/^([^.]*)(?:\.(.+)|)/;ae.event={global:{},add:function(e,t,n,r,o){var i,a,u,s,l,c,f,p,d,h,g,y=ke.get(e);if(y)for(n.handler&&(i=n,n=i.handler,o=i.selector),o&&ae.find.matchesSelector(Fe,o),n.guid||(n.guid=ae.guid++),(s=y.events)||(s=y.events={}),(a=y.handle)||(a=y.handle=function(t){return void 0!==ae&&ae.event.triggered!==t.type?ae.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(_e)||[""],l=t.length;l--;)u=Ue.exec(t[l])||[],d=g=u[1],h=(u[2]||"").split(".").sort(),d&&(f=ae.event.special[d]||{},d=(o?f.delegateType:f.bindType)||d,f=ae.event.special[d]||{},c=ae.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&ae.expr.match.needsContext.test(o),namespace:h.join(".")},i),(p=s[d])||(p=s[d]=[],p.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,c):p.push(c),ae.event.global[d]=!0)},remove:function(e,t,n,r,o){var i,a,u,s,l,c,f,p,d,h,g,y=ke.hasData(e)&&ke.get(e);if(y&&(s=y.events)){for(t=(t||"").match(_e)||[""],l=t.length;l--;)if(u=Ue.exec(t[l])||[],d=g=u[1],h=(u[2]||"").split(".").sort(),d){for(f=ae.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=s[d]||[],u=u[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)c=p[i],!o&&g!==c.origType||n&&n.guid!==c.guid||u&&!u.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(i,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||ae.removeEvent(e,d,y.handle),delete s[d])}else for(d in s)ae.event.remove(e,d+t[l],n,r,!0);ae.isEmptyObject(s)&&ke.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,u=ae.event.fix(e),s=new Array(arguments.length),l=(ke.get(this,"events")||{})[u.type]||[],c=ae.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=ae.event.handlers.call(this,u,l),t=0;(o=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!u.rnamespace.test(i.namespace)||(u.handleObj=i,u.data=i.data,void 0!==(r=((ae.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,o,i,a,u=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(i=[],a={},n=0;n<s;n++)r=t[n],o=r.selector+" ",void 0===a[o]&&(a[o]=r.needsContext?ae(o,this).index(l)>-1:ae.find(o,this,null,[l]).length),a[o]&&i.push(r);i.length&&u.push({elem:l,handlers:i})}return l=this,s<t.length&&u.push({elem:l,handlers:t.slice(s)}),u},addProp:function(e,t){Object.defineProperty(ae.Event.prototype,e,{enumerable:!0,configurable:!0,get:ae.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ae.expando]?e:new ae.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&s(this,"input"))return this.click(),!1},_default:function(e){return s(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ae.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ae.Event=function(e,t){if(!(this instanceof ae.Event))return new ae.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?x:k,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ae.extend(this,t),this.timeStamp=e&&e.timeStamp||ae.now(),this[ae.expando]=!0},ae.Event.prototype={constructor:ae.Event,isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=x,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=x,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=x,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ae.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&We.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&qe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ae.event.addProp),ae.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ae.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||ae.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),ae.fn.extend({on:function(e,t,n,r){return P(this,e,t,n,r)},one:function(e,t,n,r){return P(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ae(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=k),this.each(function(){ae.event.remove(this,e,n,t)})}});var Ge=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,$e=/<script|<style|<link/i,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ae.extend({htmlPrefilter:function(e){return e.replace(Ge,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,u=e.cloneNode(!0),s=ae.contains(e.ownerDocument,e);if(!(oe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ae.isXMLDoc(e)))for(a=E(u),i=E(e),r=0,o=i.length;r<o;r++)N(i[r],a[r]);if(t)if(n)for(i=i||E(e),a=a||E(u),r=0,o=i.length;r<o;r++)R(i[r],a[r]);else R(e,u);return a=E(u,"script"),a.length>0&&O(a,!s&&E(e,"script")),u},cleanData:function(e){for(var t,n,r,o=ae.event.special,i=0;void 0!==(n=e[i]);i++)if(xe(n)){if(t=n[ke.expando]){if(t.events)for(r in t.events)o[r]?ae.event.remove(n,r):ae.removeEvent(n,r,t.handle);n[ke.expando]=void 0}n[Ce.expando]&&(n[Ce.expando]=void 0)}}}),ae.fn.extend({detach:function(e){return M(this,e,!0)},remove:function(e){return M(this,e)},text:function(e){return Se(this,function(e){return void 0===e?ae.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return I(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||j(this,e).appendChild(e)})},prepend:function(){return I(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=j(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ae.cleanData(E(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ae.clone(this,e,t)})},html:function(e){return Se(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!$e.test(e)&&!Be[(Le.exec(e)||["",""])[1].toLowerCase()]){e=ae.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(ae.cleanData(E(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return I(this,arguments,function(t){var n=this.parentNode;ae.inArray(this,e)<0&&(ae.cleanData(E(this)),n&&n.replaceChild(t,this))},e)}}),ae.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ae.fn[e]=function(e){for(var n,r=[],o=ae(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),ae(o[a])[t](n),Q.apply(r,n.get());return this.pushStack(r)}});var Ke=/^margin/,Qe=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),Je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)};!function(){function e(){if(u){u.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",u.innerHTML="",Fe.appendChild(a);var e=n.getComputedStyle(u);t="1%"!==e.top,i="2px"===e.marginLeft,r="4px"===e.width,u.style.marginRight="50%",o="4px"===e.marginRight,Fe.removeChild(a),u=null}}var t,r,o,i,a=X.createElement("div"),u=X.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",oe.clearCloneStyle="content-box"===u.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(u),ae.extend(oe,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),o},reliableMarginLeft:function(){return e(),i}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"},rt=["Webkit","Moz","ms"],ot=X.createElement("div").style;ae.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=A(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,u=ae.camelCase(t),s=et.test(t),l=e.style;if(s||(t=B(u)),a=ae.cssHooks[t]||ae.cssHooks[u],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:l[t];i=typeof n,"string"===i&&(o=De.exec(n))&&o[1]&&(n=b(e,t,o),i="number"),null!=n&&n===n&&("number"===i&&(n+=o&&o[3]||(ae.cssNumber[u]?"":"px")),oe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(s?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var o,i,a,u=ae.camelCase(t);return et.test(t)||(t=B(u)),a=ae.cssHooks[t]||ae.cssHooks[u],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=A(e,t,r)),"normal"===o&&t in nt&&(o=nt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),ae.each(["height","width"],function(e,t){ae.cssHooks[t]={get:function(e,n,r){if(n)return!Ze.test(ae.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?W(e,t,r):Ie(e,tt,function(){return W(e,t,r)})},set:function(e,n,r){var o,i=r&&Je(e),a=r&&F(e,t,r,"border-box"===ae.css(e,"boxSizing",!1,i),i);return a&&(o=De.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=ae.css(e,t)),H(e,n,a)}}}),ae.cssHooks.marginLeft=L(oe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(A(e,"marginLeft"))||e.getBoundingClientRect().left-Ie(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ae.each({margin:"",padding:"",border:"Width"},function(e,t){ae.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Re[r]+t]=i[r]||i[r-2]||i[0];return o}},Ke.test(e)||(ae.cssHooks[e+t].set=H)}),ae.fn.extend({css:function(e,t){return Se(this,function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=Je(e),o=t.length;a<o;a++)i[t[a]]=ae.css(e,t[a],!1,r);return i}return void 0!==n?ae.style(e,t,n):ae.css(e,t)},e,t,arguments.length>1)}}),ae.fn.delay=function(e,t){return e=ae.fx?ae.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}})},function(){var e=X.createElement("input"),t=X.createElement("select"),n=t.appendChild(X.createElement("option"));e.type="checkbox",oe.checkOn=""!==e.value,oe.optSelected=n.selected,e=X.createElement("input"),e.value="t",e.type="radio",oe.radioValue="t"===e.value}();var it,at=ae.expr.attrHandle;ae.fn.extend({attr:function(e,t){return Se(this,ae.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ae.removeAttr(this,e)})}}),ae.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?ae.prop(e,t,n):(1===i&&ae.isXMLDoc(e)||(o=ae.attrHooks[t.toLowerCase()]||(ae.expr.match.bool.test(t)?it:void 0)),void 0!==n?null===n?void ae.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=ae.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!oe.radioValue&&"radio"===t&&s(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(_e);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),it={set:function(e,t,n){return!1===t?ae.removeAttr(e,n):e.setAttribute(n,n),n}},ae.each(ae.expr.match.bool.source.match(/\w+/g),function(e,t){var n=at[t]||ae.find.attr;at[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=at[a],at[a]=o,o=null!=n(e,t,r)?a:null,at[a]=i),o}});var ut=/^(?:input|select|textarea|button)$/i,st=/^(?:a|area)$/i;ae.fn.extend({prop:function(e,t){return Se(this,ae.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ae.propFix[e]||e]})}}),ae.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&ae.isXMLDoc(e)||(t=ae.propFix[t]||t,o=ae.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ae.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||st.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),oe.optSelected||(ae.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ae.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ae.propFix[this.toLowerCase()]=this}),ae.fn.extend({addClass:function(e){var t,n,r,o,i,a,u,s=0;if(ae.isFunction(e))return this.each(function(t){ae(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(_e)||[];n=this[s++];)if(o=U(n),r=1===n.nodeType&&" "+q(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");u=q(r),o!==u&&n.setAttribute("class",u)}return this},removeClass:function(e){var t,n,r,o,i,a,u,s=0;if(ae.isFunction(e))return this.each(function(t){ae(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(_e)||[];n=this[s++];)if(o=U(n),r=1===n.nodeType&&" "+q(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");u=q(r),o!==u&&n.setAttribute("class",u)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ae.isFunction(e)?this.each(function(n){ae(this).toggleClass(e.call(this,n,U(this),t),t)}):this.each(function(){var t,r,o,i;if("string"===n)for(r=0,o=ae(this),i=e.match(_e)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=U(this),t&&ke.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":ke.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+q(U(n))+" ").indexOf(t)>-1)return!0;return!1}});var lt=/\r/g;ae.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=ae.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,ae(this).val()):e,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=ae.map(o,function(e){return null==e?"":e+""})),(t=ae.valHooks[this.type]||ae.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=ae.valHooks[o.type]||ae.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(lt,""):null==n?"":n):void 0}}),ae.extend({valHooks:{option:{get:function(e){var t=ae.find.attr(e,"value");return null!=t?t:q(ae.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,u=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(n=o[r],(n.selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!s(n.parentNode,"optgroup"))){if(t=ae(n).val(),a)return t;u.push(t)}return u},set:function(e,t){for(var n,r,o=e.options,i=ae.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=ae.inArray(ae.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),ae.each(["radio","checkbox"],function(){ae.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=ae.inArray(ae(e).val(),t)>-1}},oe.checkOn||(ae.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ct=/^(?:focusinfocus|focusoutblur)$/;ae.extend(ae.event,{trigger:function(e,t,r,o){var i,a,u,s,l,c,f,p=[r||X],d=te.call(e,"type")?e.type:e,h=te.call(e,"namespace")?e.namespace.split("."):[];if(a=u=r=r||X,3!==r.nodeType&&8!==r.nodeType&&!ct.test(d+ae.event.triggered)&&(d.indexOf(".")>-1&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[ae.expando]?e:new ae.Event(d,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:ae.makeArray(t,[e]),f=ae.event.special[d]||{},o||!f.trigger||!1!==f.trigger.apply(r,t))){if(!o&&!f.noBubble&&!ae.isWindow(r)){for(s=f.delegateType||d,ct.test(s+d)||(a=a.parentNode);a;a=a.parentNode)p.push(a),u=a;u===(r.ownerDocument||X)&&p.push(u.defaultView||u.parentWindow||n)}for(i=0;(a=p[i++])&&!e.isPropagationStopped();)e.type=i>1?s:f.bindType||d,c=(ke.get(a,"events")||{})[e.type]&&ke.get(a,"handle"),c&&c.apply(a,t),(c=l&&a[l])&&c.apply&&xe(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=d,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),t)||!xe(r)||l&&ae.isFunction(r[d])&&!ae.isWindow(r)&&(u=r[l],u&&(r[l]=null),ae.event.triggered=d,r[d](),ae.event.triggered=void 0,u&&(r[l]=u)),e.result}},simulate:function(e,t,n){var r=ae.extend(new ae.Event,n,{type:e,isSimulated:!0});ae.event.trigger(r,null,t)}}),ae.fn.extend({trigger:function(e,t){return this.each(function(){ae.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ae.event.trigger(e,t,n,!0)}}),ae.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ae.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ae.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),oe.focusin="onfocusin"in n,oe.focusin||ae.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ae.event.simulate(t,e.target,ae.event.fix(e))};ae.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=ke.access(r,t);o||r.addEventListener(e,n,!0),ke.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=ke.access(r,t)-1;o?ke.access(r,t,o):(r.removeEventListener(e,n,!0),ke.remove(r,t))}}});var ft=/\[\]$/,pt=/\r?\n/g,dt=/^(?:submit|button|image|reset|file)$/i,ht=/^(?:input|select|textarea|keygen)/i;ae.param=function(e,t){var n,r=[],o=function(e,t){var n=ae.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!ae.isPlainObject(e))ae.each(e,function(){o(this.name,this.value)});else for(n in e)G(n,e[n],t,o);return r.join("&")},ae.fn.extend({serialize:function(){return ae.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ae.prop(this,"elements");return e?ae.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ae(this).is(":disabled")&&ht.test(this.nodeName)&&!dt.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var n=ae(this).val();return null==n?null:Array.isArray(n)?ae.map(n,function(e){return{name:t.name,value:e.replace(pt,"\r\n")}}):{name:t.name,value:n.replace(pt,"\r\n")}}).get()}}),ae.fn.extend({wrapAll:function(e){var t;return this[0]&&(ae.isFunction(e)&&(e=e.call(this[0])),t=ae(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ae.isFunction(e)?this.each(function(t){ae(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ae(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ae.isFunction(e);return this.each(function(n){ae(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ae(this).replaceWith(this.childNodes)}),this}}),ae.expr.pseudos.hidden=function(e){return!ae.expr.pseudos.visible(e)},ae.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},oe.createHTMLDocument=function(){var e=X.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ae.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,o,i;return t||(oe.createHTMLDocument?(t=X.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=X.location.href,t.head.appendChild(r)):t=X),o=ge.exec(e),i=!n&&[],o?[t.createElement(o[1])]:(o=S([e],t,i),i&&i.length&&ae(i).remove(),ae.merge([],o.childNodes))},ae.offset={setOffset:function(e,t,n){var r,o,i,a,u,s,l,c=ae.css(e,"position"),f=ae(e),p={};"static"===c&&(e.style.position="relative"),u=f.offset(),i=ae.css(e,"top"),s=ae.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(i+s).indexOf("auto")>-1,l?(r=f.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(s)||0),ae.isFunction(t)&&(t=t.call(e,n,ae.extend({},u))),null!=t.top&&(p.top=t.top-u.top+a),null!=t.left&&(p.left=t.left-u.left+o),"using"in t?t.using.call(e,p):f.css(p)}},ae.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ae.offset.setOffset(this,e,t)});var t,n,r,o,i=this[0];return i?i.getClientRects().length?(r=i.getBoundingClientRect(),t=i.ownerDocument,n=t.documentElement,o=t.defaultView,{top:r.top+o.pageYOffset-n.clientTop,left:r.left+o.pageXOffset-n.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ae.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),s(e[0],"html")||(r=e.offset()),r={top:r.top+ae.css(e[0],"borderTopWidth",!0),left:r.left+ae.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-ae.css(n,"marginTop",!0),left:t.left-r.left-ae.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ae.css(e,"position");)e=e.offsetParent;return e||Fe})}}),ae.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ae.fn[e]=function(r){return Se(this,function(e,r,o){var i;if(ae.isWindow(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),ae.each(["top","left"],function(e,t){ae.cssHooks[t]=L(oe.pixelPosition,function(e,n){if(n)return n=A(e,t),Qe.test(n)?ae(e).position()[t]+"px":n})}),ae.each({Height:"height",Width:"width"},function(e,t){ae.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ae.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),u=n||(!0===o||!0===i?"margin":"border");return Se(this,function(t,n,o){var i;return ae.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?ae.css(t,n,u):ae.style(t,n,o,u)},t,a?o:void 0,a)}})}),ae.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ae.holdReady=function(e){e?ae.readyWait++:ae.ready(!0)},ae.isArray=Array.isArray,ae.parseJSON=JSON.parse,ae.nodeName=s,r=[],void 0!==(o=function(){return ae}.apply(t,r))&&(e.exports=o);var gt=n.jQuery,yt=n.$;return ae.noConflict=function(e){return n.$===ae&&(n.$=yt),e&&n.jQuery===ae&&(n.jQuery=gt),ae},i||(n.jQuery=n.$=ae),ae})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.types=t.body=t.side=t.cropper=t.core=void 0;var o=n(65),i=r(o),a=n(66),u=r(a),s=n(67),l=r(s),c=n(68),f=r(c),p=n(4),d=r(p);t.core=i,t.cropper=l,t.side=f,t.body=u,t.types=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49),o=n(23),i=n(57);n.d(t,"Provider",function(){return r.b}),n.d(t,"createProvider",function(){return r.a}),n.d(t,"connectAdvanced",function(){return o.a}),n.d(t,"connect",function(){return i.a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var t=0,n=void 0,r=0,o=e.length;r<o;r++)(n=e[r].y+e[r].h)>t&&(t=n);return t}function i(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=a(e[n]);return t}function a(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable}}function u(e,t){return(0,j.default)(D.default.Children.map(e,function(e){return e.key}),D.default.Children.map(t,function(e){return e.key}))}function s(e,t){return!(e===t||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function l(e,t,n){for(var r=g(e),o=_(e,t),i=Array(e.length),u=0,s=o.length;u<s;u++){var l=a(o[u]);l.static||(l=c(r,l,t,n),r.push(l)),i[e.indexOf(o[u])]=l,l.moved=!1}return i}function c(e,t,n,r){var i="vertical"===n,a="horizontal"===n;if(i)for(t.y=Math.min(o(e),t.y);t.y>0&&!d(e,t);)t.y--;else if(a)for(t.y=Math.min(o(e),t.y);t.x>0&&!d(e,t);)t.x--;for(var u=void 0;u=d(e,t);)a?t.x=u.x+u.w:t.y=u.y+u.h,a&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function f(e,t){for(var n=g(e),r=0,o=e.length;r<o;r++){var i=e[r];if(i.x+i.w>t.cols&&(i.x=t.cols-i.w),i.x<0&&(i.x=0,i.w=t.cols),i.static)for(;d(n,i);)i.y++;else n.push(i)}return e}function p(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function d(e,t){for(var n=0,r=e.length;n<r;n++)if(s(e[n],t))return e[n]}function h(e,t){return e.filter(function(e){return s(e,t)})}function g(e){return e.filter(function(e){return e.static})}function y(e,t,n,r,o,i,a,u){if(t.static)return e;if(t.y===r&&t.x===n)return e;var s=t.x,l=t.y,c=r&&t.y>r;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var f=_(e,a);c&&(f=f.reverse());var p=h(f,t);if(i&&p.length)return t.x=s,t.y=l,t.moved=!1,e;for(var d=0,g=p.length;d<g;d++){var y=p[d];y.moved||t.y>y.y&&t.y-y.y>y.h/4||t.x>y.x&&t.x-y.x>y.w/4||(e=y.static?v(e,y,t,o,a,u):v(e,t,y,o,a,u))}return e}function v(e,t,n,r,o,i){var a="horizontal"===o,u="vertical"===o;if(r){var s={x:a?Math.max(t.x-n.w,0):n.x,y:a?n.y:Math.max(t.y-n.h,0),w:n.w,h:n.h,i:"-1"};if(!d(e,s))return y(e,n,a?s.x:void 0,u?s.y+1:void 0,r,!1,o,i)}return y(e,n,a?n.x+1:void 0,u?n.y+1:void 0,r,!1,o,i)}function m(e){return 100*e+"%"}function b(e){var t=e.top,n=e.left,r=e.width,o=e.height,i="translate("+n+"px,"+t+"px)";return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:r+"px",height:o+"px",position:"absolute"}}function w(e){return{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px",position:"absolute"}}function _(e,t){return"horizontal"===t?O(e):E(e)}function E(e){return[].concat(e).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1})}function O(e){return[].concat(e).sort(function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1})}function S(e,t,n,r){e=e||[];var i=[];return D.default.Children.forEach(t,function(t,n){var r=p(e,String(t.key));if(r)i[n]=a(r);else{!R&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var u=t.props["data-grid"]||t.props._grid;u?(R||x([u],"ReactGridLayout.children"),i[n]=a(C({},u,{i:t.key}))):i[n]=a({w:1,h:1,x:0,y:o(i),i:String(t.key)})}}),i=f(i,{cols:n}),i=l(i,r,n)}function x(e,t){t=t||"Layout";var n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,o=e.length;r<o;r++){for(var i=e[r],a=0;a<n.length;a++)if("number"!=typeof i[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(i.i&&"string"!=typeof i.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==i.static&&"boolean"!=typeof i.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}function k(e,t){t.forEach(function(t){return e[t]=e[t].bind(e)})}t.__esModule=!0;var C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.bottom=o,t.cloneLayout=i,t.cloneLayoutItem=a,t.childrenEqual=u,t.collides=s,t.compact=l,t.compactItem=c,t.correctBounds=f,t.getLayoutItem=p,t.getFirstCollision=d,t.getAllCollisions=h,t.getStatics=g,t.moveElement=y,t.moveElementAwayFromCollision=v,t.perc=m,t.setTransform=b,t.setTopLeft=w,t.sortLayoutItems=_,t.sortLayoutItemsByRowCol=E,t.sortLayoutItemsByColRow=O,t.synchronizeLayoutWithChildren=S,t.validateLayout=x,t.autoBindHandlers=k;var P=n(14),j=r(P),T=n(0),D=r(T),R=!0},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(46),i=n(47),a=n(48),u=n(21);n(20),n.d(t,"createStore",function(){return r.b}),n.d(t,"combineReducers",function(){return o.a}),n.d(t,"bindActionCreators",function(){return i.a}),n.d(t,"applyMiddleware",function(){return a.a}),n.d(t,"compose",function(){return u.a})},function(e,t,n){"use strict";function r(e){if(!Object(a.a)(e)||Object(o.a)(e)!=u)return!1;var t=Object(i.a)(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==p}var o=n(35),i=n(40),a=n(42),u="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,p=c.call(Object);t.a=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.a=r},function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function o(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function i(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function a(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function u(e,t){return e.has(t)}function s(e,t){return null==e?void 0:e[t]}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function p(){this.__data__=St?St(null):{},this.size=0}function d(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function h(e){var t=this.__data__;if(St){var n=t[e];return n===me?void 0:n}return at.call(t,e)?t[e]:void 0}function g(e){var t=this.__data__;return St?void 0!==t[e]:at.call(t,e)}function y(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=St&&void 0===t?me:t,this}function v(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function m(){this.__data__=[],this.size=0}function b(e){var t=this.__data__,n=B(t,e);return!(n<0||(n==t.length-1?t.pop():ht.call(t,n,1),--this.size,0))}function w(e){var t=this.__data__,n=B(t,e);return n<0?void 0:t[n][1]}function _(e){return B(this.__data__,e)>-1}function E(e,t){var n=this.__data__,r=B(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function O(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(){this.size=0,this.__data__={hash:new f,map:new(wt||v),string:new f}}function x(e){var t=J(this,e).delete(e);return this.size-=t?1:0,t}function k(e){return J(this,e).get(e)}function C(e){return J(this,e).has(e)}function P(e,t){var n=J(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function j(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new O;++t<n;)this.add(e[t])}function T(e){return this.__data__.set(e,me),this}function D(e){return this.__data__.has(e)}function R(e){var t=this.__data__=new v(e);this.size=t.size}function N(){this.__data__=new v,this.size=0}function I(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function M(e){return this.__data__.get(e)}function A(e){return this.__data__.has(e)}function L(e,t){var n=this.__data__;if(n instanceof v){var r=n.__data__;if(!wt||r.length<ve-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new O(r)}return n.set(e,t),this.size=n.size,this}function z(e,t){var n=Mt(e),r=!n&&It(e),o=!n&&!r&&At(e),i=!n&&!r&&!o&&Lt(e),u=n||r||o||i,s=u?a(e.length,String):[],l=s.length;for(var c in e)!t&&!at.call(e,c)||u&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||te(c,l))||s.push(c);return s}function B(e,t){for(var n=e.length;n--;)if(ue(e[n][0],t))return n;return-1}function H(e,t,n){var r=t(e);return Mt(e)?r:o(r,n(e))}function F(e){return null==e?void 0===e?Be:Re:gt&&gt in Object(e)?ee(e):ie(e)}function W(e){return de(e)&&F(e)==Ee}function q(e,t,n,r,o){return e===t||(null==e||null==t||!de(e)&&!de(t)?e!==e&&t!==t:U(e,t,n,r,q,o))}function U(e,t,n,r,o,i){var a=Mt(e),u=Mt(t),s=a?Oe:Nt(e),l=u?Oe:Nt(t);s=s==Ee?Ne:s,l=l==Ee?Ne:l;var c=s==Ne,f=l==Ne,p=s==l;if(p&&At(e)){if(!At(t))return!1;a=!0,c=!1}if(p&&!c)return i||(i=new R),a||Lt(e)?V(e,t,n,r,o,i):Y(e,t,s,n,r,o,i);if(!(n&be)){var d=c&&at.call(e,"__wrapped__"),h=f&&at.call(t,"__wrapped__");if(d||h){var g=d?e.value():e,y=h?t.value():t;return i||(i=new R),o(g,y,n,r,i)}}return!!p&&(i||(i=new R),K(e,t,n,r,o,i))}function G(e){return!(!pe(e)||re(e))&&(ce(e)?lt:qe).test(ae(e))}function $(e){return de(e)&&fe(e.length)&&!!Ge[F(e)]}function X(e){if(!oe(e))return mt(e);var t=[];for(var n in Object(e))at.call(e,n)&&"constructor"!=n&&t.push(n);return t}function V(e,t,n,r,o,a){var s=n&be,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var f=a.get(e);if(f&&a.get(t))return f==t;var p=-1,d=!0,h=n&we?new j:void 0;for(a.set(e,t),a.set(t,e);++p<l;){var g=e[p],y=t[p];if(r)var v=s?r(y,g,p,t,e,a):r(g,y,p,e,t,a);if(void 0!==v){if(v)continue;d=!1;break}if(h){if(!i(t,function(e,t){if(!u(h,t)&&(g===e||o(g,e,n,r,a)))return h.push(t)})){d=!1;break}}else if(g!==y&&!o(g,y,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function Y(e,t,n,r,o,i,a){switch(n){case Fe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case He:return!(e.byteLength!=t.byteLength||!i(new pt(e),new pt(t)));case xe:case ke:case De:return ue(+e,+t);case Ce:return e.name==t.name&&e.message==t.message;case Me:case Le:return e==t+"";case Te:var u=l;case Ae:var s=r&be;if(u||(u=c),e.size!=t.size&&!s)return!1;var f=a.get(e);if(f)return f==t;r|=we,a.set(e,t);var p=V(u(e),u(t),r,o,i,a);return a.delete(e),p;case ze:if(Dt)return Dt.call(e)==Dt.call(t)}return!1}function K(e,t,n,r,o,i){var a=n&be,u=Q(e),s=u.length;if(s!=Q(t).length&&!a)return!1;for(var l=s;l--;){var c=u[l];if(!(a?c in t:at.call(t,c)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var p=!0;i.set(e,t),i.set(t,e);for(var d=a;++l<s;){c=u[l];var h=e[c],g=t[c];if(r)var y=a?r(g,h,c,t,e,i):r(h,g,c,e,t,i);if(!(void 0===y?h===g||o(h,g,n,r,i):y)){p=!1;break}d||(d="constructor"==c)}if(p&&!d){var v=e.constructor,m=t.constructor;v!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m)&&(p=!1)}return i.delete(e),i.delete(t),p}function Q(e){return H(e,he,Rt)}function J(e,t){var n=e.__data__;return ne(t)?n["string"==typeof t?"string":"hash"]:n.map}function Z(e,t){var n=s(e,t);return G(n)?n:void 0}function ee(e){var t=at.call(e,gt),n=e[gt];try{e[gt]=void 0;var r=!0}catch(e){}var o=st.call(e);return r&&(t?e[gt]=n:delete e[gt]),o}function te(e,t){return!!(t=null==t?_e:t)&&("number"==typeof e||Ue.test(e))&&e>-1&&e%1==0&&e<t}function ne(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function re(e){return!!ut&&ut in e}function oe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||rt)}function ie(e){return st.call(e)}function ae(e){if(null!=e){try{return it.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ue(e,t){return e===t||e!==e&&t!==t}function se(e){return null!=e&&fe(e.length)&&!ce(e)}function le(e,t){return q(e,t)}function ce(e){if(!pe(e))return!1;var t=F(e);return t==Pe||t==je||t==Se||t==Ie}function fe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_e}function pe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function de(e){return null!=e&&"object"==typeof e}function he(e){return se(e)?z(e):X(e)}function ge(){return[]}function ye(){return!1}var ve=200,me="__lodash_hash_undefined__",be=1,we=2,_e=9007199254740991,Ee="[object Arguments]",Oe="[object Array]",Se="[object AsyncFunction]",xe="[object Boolean]",ke="[object Date]",Ce="[object Error]",Pe="[object Function]",je="[object GeneratorFunction]",Te="[object Map]",De="[object Number]",Re="[object Null]",Ne="[object Object]",Ie="[object Proxy]",Me="[object RegExp]",Ae="[object Set]",Le="[object String]",ze="[object Symbol]",Be="[object Undefined]",He="[object ArrayBuffer]",Fe="[object DataView]",We=/[\\^$.*+?()[\]{}|]/g,qe=/^\[object .+?Constructor\]$/,Ue=/^(?:0|[1-9]\d*)$/,Ge={};Ge["[object Float32Array]"]=Ge["[object Float64Array]"]=Ge["[object Int8Array]"]=Ge["[object Int16Array]"]=Ge["[object Int32Array]"]=Ge["[object Uint8Array]"]=Ge["[object Uint8ClampedArray]"]=Ge["[object Uint16Array]"]=Ge["[object Uint32Array]"]=!0,Ge[Ee]=Ge[Oe]=Ge[He]=Ge[xe]=Ge[Fe]=Ge[ke]=Ge[Ce]=Ge[Pe]=Ge[Te]=Ge[De]=Ge[Ne]=Ge[Me]=Ge[Ae]=Ge[Le]=Ge["[object WeakMap]"]=!1;var $e="object"==typeof e&&e&&e.Object===Object&&e,Xe="object"==typeof self&&self&&self.Object===Object&&self,Ve=$e||Xe||Function("return this")(),Ye="object"==typeof t&&t&&!t.nodeType&&t,Ke=Ye&&"object"==typeof n&&n&&!n.nodeType&&n,Qe=Ke&&Ke.exports===Ye,Je=Qe&&$e.process,Ze=function(){try{return Je&&Je.binding&&Je.binding("util")}catch(e){}}(),et=Ze&&Ze.isTypedArray,tt=Array.prototype,nt=Function.prototype,rt=Object.prototype,ot=Ve["__core-js_shared__"],it=nt.toString,at=rt.hasOwnProperty,ut=function(){var e=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),st=rt.toString,lt=RegExp("^"+it.call(at).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ct=Qe?Ve.Buffer:void 0,ft=Ve.Symbol,pt=Ve.Uint8Array,dt=rt.propertyIsEnumerable,ht=tt.splice,gt=ft?ft.toStringTag:void 0,yt=Object.getOwnPropertySymbols,vt=ct?ct.isBuffer:void 0,mt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),bt=Z(Ve,"DataView"),wt=Z(Ve,"Map"),_t=Z(Ve,"Promise"),Et=Z(Ve,"Set"),Ot=Z(Ve,"WeakMap"),St=Z(Object,"create"),xt=ae(bt),kt=ae(wt),Ct=ae(_t),Pt=ae(Et),jt=ae(Ot),Tt=ft?ft.prototype:void 0,Dt=Tt?Tt.valueOf:void 0;f.prototype.clear=p,f.prototype.delete=d,f.prototype.get=h,f.prototype.has=g,f.prototype.set=y,v.prototype.clear=m,v.prototype.delete=b,v.prototype.get=w,v.prototype.has=_,v.prototype.set=E,O.prototype.clear=S,O.prototype.delete=x,O.prototype.get=k,O.prototype.has=C,O.prototype.set=P,j.prototype.add=j.prototype.push=T,j.prototype.has=D,R.prototype.clear=N,R.prototype.delete=I,R.prototype.get=M,R.prototype.has=A,R.prototype.set=L;var Rt=yt?function(e){return null==e?[]:(e=Object(e),r(yt(e),function(t){return dt.call(e,t)}))}:ge,Nt=F;(bt&&Nt(new bt(new ArrayBuffer(1)))!=Fe||wt&&Nt(new wt)!=Te||_t&&"[object Promise]"!=Nt(_t.resolve())||Et&&Nt(new Et)!=Ae||Ot&&"[object WeakMap]"!=Nt(new Ot))&&(Nt=function(e){var t=F(e),n=t==Ne?e.constructor:void 0,r=n?ae(n):"";if(r)switch(r){case xt:return Fe;case kt:return Te;case Ct:return"[object Promise]";case Pt:return Ae;case jt:return"[object WeakMap]"}return t});var It=W(function(){return arguments}())?W:function(e){return de(e)&&at.call(e,"callee")&&!dt.call(e,"callee")},Mt=Array.isArray,At=vt||ye,Lt=et?function(e){return function(t){return e(t)}}(et):$;n.exports=le}).call(t,n(12),n(19)(e))},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.util=t.color=void 0;var o=n(89),i=r(o),a=n(99),u=r(a);t.color=i,t.util=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setting={base:{uploadScript:null,uploadParamsConvertFunc:null,updateStoreFunc:null},body:{setting:{width:100,height:100,column:5,outerMargin:10,innerMargin:10,freeMode:!1,bgColor:"rgba(255,255,255,1)"},blockColor:"rgba(211,211,211,1)",grid:[]},side:{files:[],visible:!0}},t.side={files:{},visible:!0,progressPercent:null}},function(e,t,n){"use strict";function r(e,t,n){function i(){v===y&&(v=y.slice())}function s(){return g}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return i(),v.push(e),function(){if(t){t=!1,i();var n=v.indexOf(e);v.splice(n,1)}}}function c(e){if(!Object(o.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,g=h(g,e)}finally{m=!1}for(var t=y=v,n=0;n<t.length;n++)(0,t[n])();return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:u.INIT})}function p(){var e,t=l;return e={subscribe:function(e){function n(){e.next&&e.next(s())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[a.a]=function(){return this},e}var d;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,g=t,y=[],v=y,m=!1;return c({type:u.INIT}),d={dispatch:c,subscribe:l,getState:s,replaceReducer:f},d[a.a]=p,d}n.d(t,"a",function(){return u}),t.b=r;var o=n(11),i=n(43),a=n.n(i),u={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";var r=n(36),o=r.a.Symbol;t.a=o},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=r},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(3),o=n.n(r),i=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),a=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(){}function s(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function l(e){var t,n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=l.getDisplayName,p=void 0===c?function(e){return"ConnectAdvanced("+e+")"}:c,w=l.methodName,_=void 0===w?"connectAdvanced":w,E=l.renderCountProp,O=void 0===E?void 0:E,S=l.shouldHandleStateChanges,x=void 0===S||S,k=l.storeKey,C=void 0===k?"store":k,P=l.withRef,j=void 0!==P&&P,T=a(l,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),D=C+"Subscription",R=m++,N=(t={},t[C]=y.a,t[D]=y.b,t),I=(n={},n[D]=y.b,n);return function(t){d()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",a=p(n),l=v({},T,{getDisplayName:p,methodName:_,renderCountProp:O,shouldHandleStateChanges:x,storeKey:C,withRef:j,displayName:a,wrappedComponentName:n,WrappedComponent:t}),c=function(n){function c(e,t){r(this,c);var i=o(this,n.call(this,e,t));return i.version=R,i.state={},i.renderCount=0,i.store=e[C]||t[C],i.propsMode=Boolean(e[C]),i.setWrappedInstance=i.setWrappedInstance.bind(i),d()(i.store,'Could not find "'+C+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+a+'".'),i.initSelector(),i.initSubscription(),i}return i(c,n),c.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[D]=t||this.context[D],e},c.prototype.componentDidMount=function(){x&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},c.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=u,this.store=null,this.selector.run=u,this.selector.shouldComponentUpdate=!1},c.prototype.getWrappedInstance=function(){return d()(j,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+_+"() call."),this.wrappedInstance},c.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},c.prototype.initSelector=function(){var t=e(this.store.dispatch,l);this.selector=s(t,this.store),this.selector.run(this.props)},c.prototype.initSubscription=function(){if(x){var e=(this.propsMode?this.props:this.context)[D];this.subscription=new g.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(b)):this.notifyNestedSubs()},c.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},c.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.prototype.addExtraProps=function(e){if(!(j||O||this.propsMode&&this.subscription))return e;var t=v({},e);return j&&(t.ref=this.setWrappedInstance),O&&(t[O]=this.renderCount++),this.propsMode&&this.subscription&&(t[D]=this.subscription),t},c.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(h.createElement)(t,this.addExtraProps(e.props))},c}(h.Component);return c.WrappedComponent=t,c.displayName=a,c.childContextTypes=I,c.contextTypes=N,c.propTypes=N,f()(c,t)}}t.a=l;var c=n(54),f=n.n(c),p=n(55),d=n.n(p),h=n(0),g=(n.n(h),n(56)),y=n(22),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=0,b={}},function(e,t,n){"use strict";function r(e){return function(t,n){function r(){return o}var o=e(t,n);return r.dependsOnOwnProps=!1,r}}function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function i(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=o(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=o(i),i=r(t,n)),i},r}}t.a=r,t.b=i,n(25)},function(e,t,n){"use strict";n(11),n(13)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),l=r(s),c=n(3),f=r(c),p=n(14),d=r(p),h=n(1),g=r(h),y=n(8),v=n(72),m=r(v),b=function(){},w=function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return _.call(a),(0,y.autoBindHandlers)(a,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),a}return a(t,e),t.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},t.prototype.componentWillReceiveProps=function(e){var t=void 0;if((0,d.default)(e.layout,this.props.layout)&&e.compactType===this.props.compactType?(0,y.childrenEqual)(this.props.children,e.children)||(t=this.state.layout):t=e.layout,t){var n=(0,y.synchronizeLayoutWithChildren)(t,e.children,e.cols,this.compactType(e)),r=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,r)}},t.prototype.containerHeight=function(){if(this.props.autoSize){var e=(0,y.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}},t.prototype.compactType=function(e){return e||(e=this.props),!1===e.verticalCompact?null:e.compactType},t.prototype.onDragStart=function(e,t,n,r){var o=r.e,i=r.node,a=this.state.layout,u=(0,y.getLayoutItem)(a,e);u&&(this.setState({oldDragItem:(0,y.cloneLayoutItem)(u),oldLayout:this.state.layout}),this.props.onDragStart(a,u,u,null,o,i))},t.prototype.onDrag=function(e,t,n,r){var o=r.e,i=r.node,a=this.state.oldDragItem,u=this.state.layout,s=this.props.cols,l=(0,y.getLayoutItem)(u,e);if(l){var c={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:!0,i:e};u=(0,y.moveElement)(u,l,t,n,!0,this.props.preventCollision,this.compactType(),s),this.props.onDrag(u,a,l,c,o,i),this.setState({layout:(0,y.compact)(u,this.compactType(),s),activeDrag:c})}},t.prototype.onDragStop=function(e,t,n,r){var o=r.e,i=r.node,a=this.state.oldDragItem,u=this.state.layout,s=this.props,l=s.cols,c=s.preventCollision,f=(0,y.getLayoutItem)(u,e);if(f){u=(0,y.moveElement)(u,f,t,n,!0,c,this.compactType(),l),this.props.onDragStop(u,a,f,null,o,i);var p=(0,y.compact)(u,this.compactType(),l),d=this.state.oldLayout;this.setState({activeDrag:null,layout:p,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,d)}},t.prototype.onLayoutMaybeChanged=function(e,t){t||(t=this.state.layout),(0,d.default)(t,e)||this.props.onLayoutChange(e)},t.prototype.onResizeStart=function(e,t,n,r){var o=r.e,i=r.node,a=this.state.layout,u=(0,y.getLayoutItem)(a,e);u&&(this.setState({oldResizeItem:(0,y.cloneLayoutItem)(u),oldLayout:this.state.layout}),this.props.onResizeStart(a,u,u,null,o,i))},t.prototype.onResize=function(e,t,n,r){var o=r.e,i=r.node,a=this.state,s=a.layout,l=a.oldResizeItem,c=this.props,f=c.cols,p=c.preventCollision,d=(0,y.getLayoutItem)(s,e);if(d&&(!p||!(0,y.getFirstCollision)(s,u({},d,{w:t,h:n})))){d.w=t,d.h=n;var h={w:t,h:n,x:d.x,y:d.y,static:!0,i:e};this.props.onResize(s,l,d,h,o,i),this.setState({layout:(0,y.compact)(s,this.compactType(),f),activeDrag:h})}},t.prototype.onResizeStop=function(e,t,n,r){var o=r.e,i=r.node,a=this.state,u=a.layout,s=a.oldResizeItem,l=this.props.cols,c=(0,y.getLayoutItem)(u,e);this.props.onResizeStop(u,s,c,null,o,i);var f=(0,y.compact)(u,this.compactType(),l),p=this.state.oldLayout;this.setState({activeDrag:null,layout:f,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(f,p)},t.prototype.placeholder=function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,o=t.margin,i=t.containerPadding,a=t.rowHeight,u=t.maxRows,s=t.useCSSTransforms;return l.default.createElement(m.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:i||o,maxRows:u,rowHeight:a,isDraggable:!1,isResizable:!1,useCSSTransforms:s},l.default.createElement("div",null))},t.prototype.processGridItem=function(e){if(e.key){var t=(0,y.getLayoutItem)(this.state.layout,String(e.key));if(!t)return null;var n=this.props,r=n.width,o=n.cols,i=n.margin,a=n.containerPadding,u=n.rowHeight,s=n.maxRows,c=n.isDraggable,f=n.isResizable,p=n.useCSSTransforms,d=n.draggableCancel,h=n.draggableHandle,g=this.state.mounted,v=Boolean(!t.static&&c&&(t.isDraggable||null==t.isDraggable)),b=Boolean(!t.static&&f&&(t.isResizable||null==t.isResizable));return l.default.createElement(m.default,{containerWidth:r,cols:o,margin:i,containerPadding:a||i,maxRows:s,rowHeight:u,cancel:d,handle:h,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:v,isResizable:b,useCSSTransforms:p&&g,usePercentages:!g,w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minH:t.minH,minW:t.minW,maxH:t.maxH,maxW:t.maxW,static:t.static},e)}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.style,o=u({height:this.containerHeight()},r);return l.default.createElement("div",{className:(0,g.default)("react-grid-layout",n),style:o},l.default.Children.map(this.props.children,function(t){return e.processGridItem(t)}),this.placeholder())},t}(l.default.Component);w.displayName="ReactGridLayout",w.propTypes={className:f.default.string,style:f.default.object,width:f.default.number,autoSize:f.default.bool,cols:f.default.number,draggableCancel:f.default.string,draggableHandle:f.default.string,verticalCompact:function(e){e.verticalCompact},compactType:f.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&(0,y.validateLayout)(t,"layout")},margin:f.default.arrayOf(f.default.number),containerPadding:f.default.arrayOf(f.default.number),rowHeight:f.default.number,maxRows:f.default.number,isDraggable:f.default.bool,isResizable:f.default.bool,preventCollision:f.default.bool,useCSSTransforms:f.default.bool,onLayoutChange:f.default.func,onDragStart:f.default.func,onDrag:f.default.func,onDragStop:f.default.func,onResizeStart:f.default.func,onResize:f.default.func,onResizeStop:f.default.func,children:function(e,t,n){var r=e[t],o={};l.default.Children.forEach(r,function(e){if(o[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');o[e.key]=!0})}},w.defaultProps={autoSize:!0,cols:12,className:"",rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:b,onDragStart:b,onDrag:b,onDragStop:b,onResizeStart:b,onResize:b,onResizeStop:b};var _=function(){this.state={activeDrag:null,layout:(0,y.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};t.default=w},function(e,t,n){!function(t,r){e.exports=function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function o(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function i(e){return"number"==typeof e&&!isNaN(e)}function a(e){return parseInt(e,10)}function u(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=r,t.isFunction=o,t.isNum=i,t.int=a,t.dontSetMe=u},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,a,u,s){if(o(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,u,s],f=0;l=new Error(t.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var o=function(e){};"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&(o=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return k||(k=(0,O.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,O.isFunction)(e[t])})),e[k].call(e,t)}function i(e,t,n){var r=e;do{if(o(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function a(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function u(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function s(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,O.int)(n.borderTopWidth),t+=(0,O.int)(n.borderBottomWidth)}function l(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,O.int)(n.borderLeftWidth),t+=(0,O.int)(n.borderRightWidth)}function c(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,O.int)(n.paddingTop),t-=(0,O.int)(n.paddingBottom)}function f(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,O.int)(n.paddingLeft),t-=(0,O.int)(n.paddingRight)}function p(e,t){var n=t===t.ownerDocument.body,r=n?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-r.left,y:e.clientY+t.scrollTop-r.top}}function d(e){var t=e.x,n=e.y;return r({},(0,S.browserPrefixToKey)("transform",x.default),"translate("+t+"px,"+n+"px)")}function h(e){return"translate("+e.x+","+e.y+")"}function g(e,t){return e.targetTouches&&(0,O.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,O.findInArray)(e.changedTouches,function(e){return t===e.identifier})}function y(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function v(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&w(e.body,"react-draggable-transparent-selection")}function m(e){e.body&&_(e.body,"react-draggable-transparent-selection"),window.getSelection().removeAllRanges()}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E({touchAction:"none"},e)}function w(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(e.className+=" "+t)}function _(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}Object.defineProperty(t,"__esModule",{value:!0});var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.matchesSelector=o,t.matchesSelectorAndParentsTo=i,t.addEvent=a,t.removeEvent=u,t.outerHeight=s,t.outerWidth=l,t.innerHeight=c,t.innerWidth=f,t.offsetXYFromParent=p,t.createCSSTransform=d,t.createSVGTransform=h,t.getTouch=g,t.getTouchIdentifier=y,t.addUserSelectStyles=v,t.removeUserSelectStyles=m,t.styleHacks=b,t.addClassName=w,t.removeClassName=_;var O=n(0),S=n(18),x=function(e){return e&&e.__esModule?e:{default:e}}(S),k=""},function(e,n){e.exports=t},function(e,t,n){if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r};e.exports=n(14)(o,!0)}else e.exports=n(16)()},function(e,t,n){"use strict";var r=n(1),o=r;if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV){var i=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}};o=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];i.apply(void 0,[t].concat(r))}}}e.exports=o},function(e,t,n){"use strict";function r(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:c(r);var o=f(e);if("string"==typeof r){var i=o.ownerDocument,a=i.defaultView,u=void 0;if(!((u="parent"===r?o.parentNode:i.querySelector(r))instanceof HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var s=a.getComputedStyle(o),l=a.getComputedStyle(u);r={left:-o.offsetLeft+(0,p.int)(l.paddingLeft)+(0,p.int)(s.marginLeft),top:-o.offsetTop+(0,p.int)(l.paddingTop)+(0,p.int)(s.marginTop),right:(0,g.innerWidth)(u)-(0,g.outerWidth)(o)-o.offsetLeft+(0,p.int)(l.paddingRight)-(0,p.int)(s.marginRight),bottom:(0,g.innerHeight)(u)-(0,g.outerHeight)(o)-o.offsetTop+(0,p.int)(l.paddingBottom)-(0,p.int)(s.marginBottom)}}return(0,p.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,p.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,p.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,p.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function o(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function i(e){return"both"===e.props.axis||"x"===e.props.axis}function a(e){return"both"===e.props.axis||"y"===e.props.axis}function u(e,t,n){var r="number"==typeof t?(0,g.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var o=f(n),i=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,g.offsetXYFromParent)(r||e,i)}function s(e,t,n){var r=e.state,o=!(0,p.isNum)(r.lastX),i=f(e);return o?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function l(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function c(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function f(e){var t=h.default.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=r,t.snapToGrid=o,t.canDragX=i,t.canDragY=a,t.getControlPosition=u,t.createCoreData=s,t.createDraggableData=l;var p=n(0),d=n(4),h=function(e){return e&&e.__esModule?e:{default:e}}(d),g=n(5)},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(6),c=r(l),f=n(7),p=r(f),d=n(4),h=r(d),g=n(5),y=n(9),v=n(0),m=n(11),b=r(m),w={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},_=w.mouse,E=function(e){function t(){var e,n,r,a;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},r.handleDragStart=function(e){if(r.props.onMouseDown(e),!r.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=h.default.findDOMNode(r);if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var n=t.ownerDocument;if(!(r.props.disabled||!(e.target instanceof n.defaultView.Node)||r.props.handle&&!(0,g.matchesSelectorAndParentsTo)(e.target,r.props.handle,t)||r.props.cancel&&(0,g.matchesSelectorAndParentsTo)(e.target,r.props.cancel,t))){var o=(0,g.getTouchIdentifier)(e);r.setState({touchIdentifier:o});var i=(0,y.getControlPosition)(e,o,r);if(null!=i){var a=i.x,u=i.y,s=(0,y.createCoreData)(r,a,u);(0,b.default)("DraggableCore: handleDragStart: %j",s),(0,b.default)("calling",r.props.onStart),!1!==r.props.onStart(e,s)&&(r.props.enableUserSelectHack&&(0,g.addUserSelectStyles)(n),r.setState({dragging:!0,lastX:a,lastY:u}),(0,g.addEvent)(n,_.move,r.handleDrag),(0,g.addEvent)(n,_.stop,r.handleDragStop))}}},r.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,y.getControlPosition)(e,r.state.touchIdentifier,r);if(null!=t){var n=t.x,o=t.y;if(Array.isArray(r.props.grid)){var i=n-r.state.lastX,a=o-r.state.lastY,s=(0,y.snapToGrid)(r.props.grid,i,a),l=u(s,2);if(i=l[0],a=l[1],!i&&!a)return;n=r.state.lastX+i,o=r.state.lastY+a}var c=(0,y.createCoreData)(r,n,o);if((0,b.default)("DraggableCore: handleDrag: %j",c),!1!==r.props.onDrag(e,c))r.setState({lastX:n,lastY:o});else try{r.handleDragStop(new MouseEvent("mouseup"))}catch(e){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(f)}}},r.handleDragStop=function(e){if(r.state.dragging){var t=(0,y.getControlPosition)(e,r.state.touchIdentifier,r);if(null!=t){var n=t.x,o=t.y,i=(0,y.createCoreData)(r,n,o),a=h.default.findDOMNode(r);a&&r.props.enableUserSelectHack&&(0,g.removeUserSelectStyles)(a.ownerDocument),(0,b.default)("DraggableCore: handleDragStop: %j",i),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),r.props.onStop(e,i),a&&((0,b.default)("DraggableCore: Removing handlers"),(0,g.removeEvent)(a.ownerDocument,_.move,r.handleDrag),(0,g.removeEvent)(a.ownerDocument,_.stop,r.handleDragStop))}}},r.onMouseDown=function(e){return _=w.mouse,r.handleDragStart(e)},r.onMouseUp=function(e){return _=w.mouse,r.handleDragStop(e)},r.onTouchStart=function(e){return _=w.touch,r.handleDragStart(e)},r.onTouchEnd=function(e){return _=w.touch,r.handleDragStop(e)},a=n,i(r,a)}return a(t,e),s(t,[{key:"componentWillUnmount",value:function(){var e=h.default.findDOMNode(this);if(e){var t=e.ownerDocument;(0,g.removeEvent)(t,w.mouse.move,this.handleDrag),(0,g.removeEvent)(t,w.touch.move,this.handleDrag),(0,g.removeEvent)(t,w.mouse.stop,this.handleDragStop),(0,g.removeEvent)(t,w.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,g.removeUserSelectStyles)(t)}}},{key:"render",value:function(){return c.default.cloneElement(c.default.Children.only(this.props.children),{style:(0,g.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),t}(c.default.Component);E.displayName="DraggableCore",E.propTypes={allowAnyClick:p.default.bool,disabled:p.default.bool,enableUserSelectHack:p.default.bool,offsetParent:function(t,n){if(e.browser&&t[n]&&1!==t[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:p.default.arrayOf(p.default.number),handle:p.default.string,cancel:p.default.string,onStart:p.default.func,onDrag:p.default.func,onStop:p.default.func,onMouseDown:p.default.func,className:v.dontSetMe,style:v.dontSetMe,transform:v.dontSetMe},E.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},t.default=E}).call(t,n(19))},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";var r=n(13).default;e.exports=r,e.exports.default=r,e.exports.DraggableCore=n(10).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(6),p=r(f),d=n(7),h=r(d),g=n(4),y=r(g),v=n(17),m=r(v),b=n(5),w=n(9),_=n(0),E=n(10),O=r(E),S=n(11),x=r(S),k=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDragStart=function(e,t){if((0,x.default)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,w.createDraggableData)(n,t)))return!1;n.setState({dragging:!0,dragged:!0})},n.onDrag=function(e,t){if(!n.state.dragging)return!1;(0,x.default)("Draggable: onDrag: %j",t);var r=(0,w.createDraggableData)(n,t),o={x:r.x,y:r.y};if(n.props.bounds){var i=o.x,a=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var u=(0,w.getBoundPosition)(n,o.x,o.y),s=l(u,2);o.x=s[0],o.y=s[1],o.slackX=n.state.slackX+(i-o.x),o.slackY=n.state.slackY+(a-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(o)},n.onDragStop=function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,w.createDraggableData)(n,t)))return!1;(0,x.default)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var o=n.props.position,i=o.x,a=o.y;r.x=i,r.y=a}n.setState(r)},n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},n}return u(t,e),c(t,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&y.default.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t={},n=null,r=Boolean(this.props.position),i=!r||this.state.dragging,a=this.props.position||this.props.defaultPosition,u={x:(0,w.canDragX)(this)&&i?this.state.x:a.x,y:(0,w.canDragY)(this)&&i?this.state.y:a.y};this.state.isElementSVG?n=(0,b.createSVGTransform)(u):t=(0,b.createCSSTransform)(u);var l=this.props,c=l.defaultClassName,f=l.defaultClassNameDragging,d=l.defaultClassNameDragged,h=(0,m.default)(this.props.children.props.className||"",c,(e={},o(e,f,this.state.dragging),o(e,d,this.state.dragged),e));return p.default.createElement(O.default,s({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),p.default.cloneElement(p.default.Children.only(this.props.children),{className:h,style:s({},this.props.children.props.style,t),transform:n}))}}]),t}(p.default.Component);k.displayName="Draggable",k.propTypes=s({},O.default.propTypes,{axis:h.default.oneOf(["both","x","y","none"]),bounds:h.default.oneOfType([h.default.shape({left:h.default.number,right:h.default.number,top:h.default.number,bottom:h.default.number}),h.default.string,h.default.oneOf([!1])]),defaultClassName:h.default.string,defaultClassNameDragging:h.default.string,defaultClassNameDragged:h.default.string,defaultPosition:h.default.shape({x:h.default.number,y:h.default.number}),position:h.default.shape({x:h.default.number,y:h.default.number}),className:_.dontSetMe,style:_.dontSetMe,transform:_.dontSetMe}),k.defaultProps=s({},O.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),t.default=k},function(e,t,n){"use strict";var r=n(1),o=n(2),i=n(8),a=n(3),u=n(15);e.exports=function(e,t){function n(e){var t=e&&(S&&e[S]||e[x]);if("function"==typeof t)return t}function s(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function l(e){this.message=e,this.stack=""}function c(e){function n(n,s,c,f,p,d,h){if(f=f||k,d=d||c,h!==a)if(t)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&"undefined"!=typeof console){var g=f+":"+c;!r[g]&&u<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,f),r[g]=!0,u++)}return null==s[c]?n?new l(null===s[c]?"The "+p+" `"+d+"` is marked as required in `"+f+"`, but its value is `null`.":"The "+p+" `"+d+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(s,c,f,p,d)}if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)var r={},u=0;var s=n.bind(null,!1);return s.isRequired=n.bind(null,!0),s}function f(e){function t(t,n,r,o,i,a){var u=t[n];return w(u)!==e?new l("Invalid "+o+" `"+i+"` of type `"+_(u)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return c(t)}function p(e){function t(t,n,r,o,i){if("function"!=typeof e)return new l("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var u=t[n];if(!Array.isArray(u))return new l("Invalid "+o+" `"+i+"` of type `"+w(u)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<u.length;s++){var c=e(u,s,r,o,i+"["+s+"]",a);if(c instanceof Error)return c}return null}return c(t)}function d(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=e.name||k;return new l("Invalid "+o+" `"+i+"` of type `"+O(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return c(t)}function h(e){function t(t,n,r,o,i){for(var a=t[n],u=0;u<e.length;u++)if(s(a,e[u]))return null;return new l("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?c(t):("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function g(e){function t(t,n,r,o,i){if("function"!=typeof e)return new l("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var u=t[n],s=w(u);if("object"!==s)return new l("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var c in u)if(u.hasOwnProperty(c)){var f=e(u,c,r,o,i+"."+c,a);if(f instanceof Error)return f}return null}return c(t)}function y(e){function t(t,n,r,o,i){for(var u=0;u<e.length;u++)if(null==(0,e[u])(t,n,r,o,i,a))return null;return new l("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var n=0;n<e.length;n++){var o=e[n];if("function"!=typeof o)return i(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",E(o),n),r.thatReturnsNull}return c(t)}function v(e){function t(t,n,r,o,i){var u=t[n],s=w(u);if("object"!==s)return new l("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var f=e[c];if(f){var p=f(u,c,r,o,i+"."+c,a);if(p)return p}}return null}return c(t)}function m(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(m);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!m(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!m(a[1]))return!1}return!0;default:return!1}}function b(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function w(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":b(t,e)?"symbol":t}function _(e){if(void 0===e||null===e)return""+e;var t=w(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function E(e){var t=_(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function O(e){return e.constructor&&e.constructor.name?e.constructor.name:k}var S="function"==typeof Symbol&&Symbol.iterator,x="@@iterator",k="<<anonymous>>",C={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:function(){return c(r.thatReturnsNull)}(),arrayOf:p,element:function(){function t(t,n,r,o,i){var a=t[n];return e(a)?null:new l("Invalid "+o+" `"+i+"` of type `"+w(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return c(t)}(),instanceOf:d,node:function(){function e(e,t,n,r,o){return m(e[t])?null:new l("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return c(e)}(),objectOf:g,oneOf:h,oneOfType:y,shape:v};return l.prototype=Error.prototype,C.checkPropTypes=u,C.PropTypes=C,C}},function(e,t,n){"use strict";function r(e,t,n,r,s){if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)for(var l in e)if(e.hasOwnProperty(l)){var c;try{o("function"==typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",n,l),c=e[l](t,l,r,n,null,a)}catch(e){c=e}if(i(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,l,typeof c),c instanceof Error&&!(c.message in u)){u[c.message]=!0;var f=s?s():"";i(!1,"Failed %s type: %s%s",n,c.message,null!=f?f:"")}}}if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)var o=n(2),i=n(8),a=n(3),u={};e.exports=r},function(e,t,n){"use strict";var r=n(1),o=n(2),i=n(3);e.exports=function(){function e(e,t,n,r,a,u){u!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){var r,o;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var i={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(o=function(){return n}.apply(t,r))&&(e.exports=o))}()},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<u.length;n++)if(o(e,u[n])in t)return u[n];return""}function o(e,t){return t?""+t+a(e):e}function i(e,t){return t?"-"+t.toLowerCase()+"-"+e:e}function a(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=r,t.browserPrefixToKey=o,t.browserPrefixToStyle=i;var u=["Moz","Webkit","O","ms"];t.default=r()},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){g&&d&&(g=!1,d.length?h=d.concat(h):y=-1,h.length&&u())}function u(){if(!g){var e=o(a);g=!0;for(var t=h.length;t;){for(d=h,h=[];++y<t;)d&&d[y].run();y=-1,t=h.length}d=null,g=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var c,f,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var d,h=[],g=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||g||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}}])}(n(9),n(0))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(0),c=r(l),f=n(3),p=r(f),d=n(27),h=n(74),g=r(h),y=function(e){function t(){var n,r,o;i(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=r=a(this,e.call.apply(e,[this].concat(s))),r.state={resizing:!1,width:r.props.width,height:r.props.height,slackW:0,slackH:0},o=n,a(r,o)}return u(t,e),t.prototype.componentWillReceiveProps=function(e){this.state.resizing||e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.lockAspectRatio=function(e,t,n){return t=e/n,e=t*n,[e,t]},t.prototype.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],o=n[1];if(this.props.lockAspectRatio){var i=this.state.width/this.state.height;t=e/i,e=t*i}if(!r&&!o)return[e,t];var a=e,u=t,s=this.state,l=s.slackW,c=s.slackH;return e+=l,t+=c,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),o&&(e=Math.min(o[0],e),t=Math.min(o[1],t)),l+=a-e,c+=u-t,l===this.state.slackW&&c===this.state.slackH||this.setState({slackW:l,slackH:c}),[e,t]},t.prototype.resizeHandler=function(e){var t=this;return function(n,r){var o=r.node,i=r.deltaX,a=r.deltaY,u="both"===t.props.axis||"x"===t.props.axis,s="both"===t.props.axis||"y"===t.props.axis,l=t.state.width+(u?i:0),c=t.state.height+(s?a:0),f=l!==t.state.width,p=c!==t.state.height;if("onResize"!==e||f||p){var d=t.runConstraints(l,c);l=d[0],c=d[1];var h={};if("onResizeStart"===e)h.resizing=!0;else if("onResizeStop"===e)h.resizing=!1,h.slackW=h.slackH=0;else{if(l===t.state.width&&c===t.state.height)return;h.width=l,h.height=c}"function"==typeof t.props[e]?("function"==typeof n.persist&&n.persist(),t.setState(h,function(){return t.props[e](n,{node:o,size:{width:l,height:c}})})):t.setState(h)}}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.draggableOpts,r=(e.width,e.height,e.handleSize,e.lockAspectRatio,e.axis,e.minConstraints,e.maxConstraints,e.onResize,e.onResizeStop,e.onResizeStart,o(e,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart"])),i=r.className?r.className+" react-resizable":"react-resizable";return(0,g.default)(t,s({},r,{className:i,children:[t.props.children,c.default.createElement(d.DraggableCore,s({},n,{key:"resizableHandle",onStop:this.resizeHandler("onResizeStop"),onStart:this.resizeHandler("onResizeStart"),onDrag:this.resizeHandler("onResize")}),c.default.createElement("span",{className:"react-resizable-handle"}))]}))},t}(c.default.Component);y.propTypes={children:p.default.element.isRequired,width:p.default.number.isRequired,height:p.default.number.isRequired,handleSize:p.default.array,lockAspectRatio:p.default.bool,axis:p.default.oneOf(["both","x","y","none"]),minConstraints:p.default.arrayOf(p.default.number),maxConstraints:p.default.arrayOf(p.default.number),onResizeStop:p.default.func,onResizeStart:p.default.func,onResize:p.default.func,draggableOpts:p.default.object},y.defaultProps={handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0]},t.default=y},function(e,t,n){"use strict";function r(e,t){for(var n=a(e),r=n[0],o=1,i=n.length;o<i;o++){var u=n[o];t>e[u]&&(r=u)}return r}function o(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function i(e,t,n,r,o,i){if(e[n])return(0,u.cloneLayout)(e[n]);for(var s=e[r],l=a(t),c=l.slice(l.indexOf(n)),f=0,p=c.length;f<p;f++){var d=c[f];if(e[d]){s=e[d];break}}return s=(0,u.cloneLayout)(s||[]),(0,u.compact)((0,u.correctBounds)(s,{cols:o}),i,o)}function a(e){return Object.keys(e).sort(function(t,n){return e[t]-e[n]})}t.__esModule=!0,t.getBreakpointFromWidth=r,t.getColsFromBreakpoint=o,t.findOrGenerateResponsiveLayout=i,t.sortBreakpoints=a;var u=n(8)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!(!e||!e.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),f=n(3),p=r(f),d=n(1),h=r(d),g=n(88),y=r(g),v=n(100),m=r(v),b=n(101),w=r(b),_=n(15),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(_),O=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={color:E.color.parseToHsv(e.color)},n}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,n=E.color.parseToHsv(e.color);E.color.equals(t.color,n)||this.setState({color:n})}},{key:"getAlpha",value:function(){var e=this.state;return void 0===e.color[3]?1:e.color[3]}},{key:"getBackgroundGradient",value:function(){var e=u(this.state.color,3),t=e[0],n=e[1],r=e[2];return"linear-gradient(to right, rgba(0,0,0,0) 0%, "+E.color.toRgbString([t,n,r,1])+" 100%)"}},{key:"getBackgroundHue",value:function(){return E.color.toRgbString([this.state.color[0],100,100])}},{key:"update",value:function(e){var t=this.props;this.setState({color:e}),t.onChange(E.color.toRgbString(e))}},{key:"changeColor",value:function(e){var t=E.color.parseToHsv(e);E.color.equals(this.state.color,t)||this.setState({color:t})}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,r=u(t.color,3),o=r[0],i=r[1],a=r[2];return c.default.createElement("div",{className:(0,h.default)("colorpicker",n.className)},c.default.createElement(m.default,{x:i,y:a,max:100,backgroundColor:this.getBackgroundHue(),onChange:function(n,r){var o=u(t.color,4),i=o[0],a=o[3];e.update([i,n,r,a])},className:(0,h.default)("colorpicker__map",{"cpMap-dark":E.color.isDark(t.color),"cpMap-light":!E.color.isDark(t.color)})}),c.default.createElement("div",{className:"colorpicker__body"},c.default.createElement("nav",{className:"colorpicker__controller"},c.default.createElement(y.default,{value:o,max:360,onChange:function(n){var r=u(t.color,4),o=r[1],i=r[2],a=r[3];e.update([n,o,i,a])},className:"colorpicker__slider cpSlider-hue"}),c.default.createElement(y.default,{value:this.getAlpha(),max:1,background:this.getBackgroundGradient(),onChange:function(n){var r=u(t.color,3),o=r[0],i=r[1],a=r[2];e.update([o,i,a,n])},className:"colorpicker__slider cpSlider-opacity"})),c.default.createElement("figure",{className:"cpPreview colorpicker__preview"},c.default.createElement("span",null,c.default.createElement("i",{style:{backgroundColor:E.color.toRgbString(t.color)}})))),c.default.createElement(w.default,{colors:n.paletteColors,onSelectColor:function(t){var n=E.color.parseToHsv(t),r=u(n,4),o=r[0],i=r[1],a=r[2],s=r[3];e.update([o,i,a,s])},className:"colorpicker__palette"}))}}]),t}(c.default.Component);O.propTypes={color:p.default.string.isRequired,onChange:p.default.func.isRequired},O.defaultProps={color:"rgba(0,0,0,1)",onChange:function(e){},paletteColors:["#D0011B","#F6A623","#F8E81C","#8B572A","#7ED321","#417505","#BD0FE1","#9012FE","#4990E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF","#B31F37"],className:null},t.default=O},function(e,t){function n(e){return e.match(r)}var r=/-?\d+(\.\d+)?%?/g;e.exports=n},function(e,t){function n(e,t,n){return Math.min(Math.max(e,t),n)}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(10),f=n(7),p=n(64),d=r(p),h=n(110),g=r(h),y=n(116),v=r(y);n(121);var m=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.store=(0,c.createStore)(g.default),e.api=new v.default(e.store),e}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props;return l.default.createElement(f.Provider,{store:this.store},l.default.createElement(d.default,{parent:{preference:e,api:this.api}}))}}]),t}(l.default.Component);m.displayName="PhotoLayoutEditor",t.default=m},function(e,t,n){"use strict";function r(e){return null==e?void 0===e?s:u:l&&l in Object(e)?Object(i.a)(e):Object(a.a)(e)}var o=n(18),i=n(38),a=n(39),u="[object Null]",s="[object Undefined]",l=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";var r=n(37),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(12))},function(e,t,n){"use strict";function r(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[s]=n:delete e[s]),o}var o=n(18),i=Object.prototype,a=i.hasOwnProperty,u=i.toString,s=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return i.call(e)}var o=Object.prototype,i=o.toString;t.a=r},function(e,t,n){"use strict";var r=n(41),o=Object(r.a)(Object.getPrototypeOf,Object);t.a=o},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){e.exports=n(44)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(45),a=function(e){return e&&e.__esModule?e:{default:e}}(i);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var u=(0,a.default)(o);t.default=u}).call(t,n(12),n(19)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function i(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var a=t[i];"function"==typeof e[a]&&(n[a]=e[a])}var u=Object.keys(n),s=void 0;try{o(n)}catch(e){s=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var o=!1,i={},a=0;a<u.length;a++){var l=u[a],c=n[l],f=e[l],p=c(f,t);if(void 0===p){var d=r(l,t);throw new Error(d)}i[l]=p,o=o||p!==f}return o?i:e}}t.a=i;var a=n(17);n(11),n(20)},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},i=0;i<n.length;i++){var a=n[i],u=e[a];"function"==typeof u&&(o[a]=r(u,t))}return o}t.a=o},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var u=e(n,r,a),s=u.dispatch,l=[],c={getState:u.getState,dispatch:function(e){return s(e)}};return l=t.map(function(e){return e(c)}),s=o.a.apply(void 0,l)(u.dispatch),i({},u,{dispatch:s})}}}t.a=r;var o=n(21),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],a=n||t+"Subscription",s=function(e){function n(i,a){r(this,n);var u=o(this,e.call(this,i,a));return u[t]=i.store,u}return i(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[a]=null,e},n.prototype.render=function(){return u.Children.only(this.props.children)},n}(u.Component);return s.propTypes={store:c.a.isRequired,children:l.a.element.isRequired},s.childContextTypes=(e={},e[t]=c.a.isRequired,e[a]=c.b,e),s}t.a=a;var u=n(0),s=(n.n(u),n(3)),l=n.n(s),c=n(22);n(13),t.b=a()},function(e,t,n){"use strict";var r=n(51),o=n(52),i=n(53);e.exports=function(){function e(e,t,n,r,a,u){u!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,a,u,s){if(o(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,u,s],f=0;l=new Error(t.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,c=l&&l(Object);e.exports=function e(t,n,f){if("string"!=typeof n){if(c){var p=l(n);p&&p!==c&&e(t,p,f)}var d=a(n);u&&(d=d.concat(u(n)));for(var h=0;h<d.length;++h){var g=d[h];if(!(r[g]||o[g]||f&&f[g])){var y=s(n,g);try{i(t,g,y)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,u],c=0;s=new Error(t.replace(/%s/g,function(){return l[c++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==i&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}n.d(t,"a",function(){return u});var i=null,a={notify:function(){}},u=function(){function e(t,n,o){r(this,e),this.store=t,this.parentSub=n,this.onStateChange=o,this.unsubscribe=null,this.listeners=a}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=o())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}()},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function i(e,t){return e===t}var a=n(23),u=n(58),s=n(59),l=n(60),c=n(61),f=n(62),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?a.a:t,d=e.mapStateToPropsFactories,h=void 0===d?l.a:d,g=e.mapDispatchToPropsFactories,y=void 0===g?s.a:g,v=e.mergePropsFactories,m=void 0===v?c.a:v,b=e.selectorFactory,w=void 0===b?f.a:b;return function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=s.pure,c=void 0===l||l,f=s.areStatesEqual,d=void 0===f?i:f,g=s.areOwnPropsEqual,v=void 0===g?u.a:g,b=s.areStatePropsEqual,_=void 0===b?u.a:b,E=s.areMergedPropsEqual,O=void 0===E?u.a:E,S=r(s,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),x=o(e,h,"mapStateToProps"),k=o(t,y,"mapDispatchToProps"),C=o(a,m,"mergeProps");return n(w,p({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:k,initMergeProps:C,pure:c,areStatesEqual:d,areOwnPropsEqual:v,areStatePropsEqual:_,areMergedPropsEqual:O},S))}}()},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}t.a=o;var i=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){return"function"==typeof e?Object(u.b)(e,"mapDispatchToProps"):void 0}function o(e){return e?void 0:Object(u.a)(function(e){return{dispatch:e}})}function i(e){return e&&"object"==typeof e?Object(u.a)(function(t){return Object(a.bindActionCreators)(e,t)}):void 0}var a=n(10),u=n(24);t.a=[r,o,i]},function(e,t,n){"use strict";function r(e){return"function"==typeof e?Object(i.b)(e,"mapStateToProps"):void 0}function o(e){return e?void 0:Object(i.a)(function(){return{}})}var i=n(24);t.a=[r,o]},function(e,t,n){"use strict";function r(e,t,n){return u({},n,e,t)}function o(e){return function(t,n){var r=(n.displayName,n.pure),o=n.areMergedPropsEqual,i=!1,a=void 0;return function(t,n,u){var s=e(t,n,u);return i?r&&o(s,a)||(a=s):(i=!0,a=s),a}}}function i(e){return"function"==typeof e?o(e):void 0}function a(e){return e?void 0:function(){return r}}var u=(n(25),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});t.a=[i,a]},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function i(e,t,n,r,o){function i(o,i){return h=o,g=i,y=e(h,g),v=t(r,g),m=n(y,v,g),d=!0,m}function a(){return y=e(h,g),t.dependsOnOwnProps&&(v=t(r,g)),m=n(y,v,g)}function u(){return e.dependsOnOwnProps&&(y=e(h,g)),t.dependsOnOwnProps&&(v=t(r,g)),m=n(y,v,g)}function s(){var t=e(h,g),r=!p(t,y);return y=t,r&&(m=n(y,v,g)),m}function l(e,t){var n=!f(t,g),r=!c(e,h);return h=e,g=t,n&&r?a():n?u():r?s():m}var c=o.areStatesEqual,f=o.areOwnPropsEqual,p=o.areStatePropsEqual,d=!1,h=void 0,g=void 0,y=void 0,v=void 0,m=void 0;return function(e,t){return d?l(e,t):i(e,t)}}function a(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,u=t.initMergeProps,s=r(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=n(e,s),c=a(e,s),f=u(e,s);return(s.pure?i:o)(l,c,f,e,s)}t.a=a,n(63)},function(e,t,n){"use strict";n(13)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(7),f=n(1),p=r(f),d=n(6),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),g=n(69),y=r(g),v=n(104),m=r(v),b=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.el=null,e}return a(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props;this.checkChangeStore(t,e)}},{key:"componentDidMount",value:function(){var e=this.props;e.dispatch(h.core.init(e.parent.api,e.parent.preference||{side:{},body:{}},this.el))}},{key:"checkChangeStore",value:function(e,t){if(!t.setting.base.updateStoreFunc||"function"!=typeof t.setting.base.updateStoreFunc)return null;e.tree.side.visible===t.tree.side.visible&&e.tree.side.files===t.tree.side.files&&e.tree.body.setting===t.tree.body.setting&&e.tree.body.grid===t.tree.body.grid||t.setting.base.updateStoreFunc()}},{key:"render",value:function(){var e=this,t=this.props;return l.default.createElement("div",{ref:function(t){e.el=t},className:(0,p.default)("ple-editor",{"ple-side-active":t.tree.side.visible})},t.setting&&l.default.createElement("div",{className:"ple-wrap"},l.default.createElement(y.default,null),l.default.createElement(m.default,null)))}}]),t}(l.default.Component);b.displayName="Container",b.defaultProps={parent:{},dispatch:null,tree:{},setting:null},t.default=(0,c.connect)(function(e){return Object.assign({},e,{})})(b)},function(e,t,n){"use strict";function r(e,t,n){return{type:i.INIT_PLE,api:e,preference:t,element:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=r;var o=n(4),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o)},function(e,t,n){"use strict";function r(e){return{type:h.GRID_ADD_BLOCK,value:e}}function o(e){return{type:h.GRID_REMOVE_BLOCK,keys:e}}function i(e){return{type:h.GRID_SHUFFLE_BLOCKS,value:e}}function a(e){return{type:h.GRID_DUPLICATE_BLOCK,keys:e}}function u(e){return{type:h.GRID_UPDATE_BLOCKS,value:e}}function s(e){return{type:h.GRID_ACTIVE_BLOCK,value:e}}function l(e,t){return{type:h.GRID_CHANGE_COLOR,keys:e,color:t}}function c(e){return{type:h.GRID_SETTING_UPDATE,value:e}}function f(e,t,n){return{type:h.GRID_ATTACH_IMAGES,value:e,columns:t,activeBlocks:n}}function p(e,t){return{type:h.GRID_ATTACH_IMAGE,keys:e,image:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.addBlock=r,t.removeBlock=o,t.shuffleBlocks=i,t.duplicateBlock=a,t.updateBlocks=u,t.activeBlock=s,t.changeColorBlock=l,t.updateSetting=c,t.attachImages=f,t.attachImage=p;var d=n(4),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d)},function(e,t,n){"use strict";function r(e,t){return{type:a.CROPPER_OPEN,item:t,key:e}}function o(e,t,n){return{type:a.CROPPER_CLOSE,key:e,position:t,size:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.open=r,t.close=o;var i=n(4),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i)},function(e,t,n){"use strict";function r(e){return{type:c.SIDE_VISIBLE,value:e}}function o(){return{type:c.SIDE_TOGGLE}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:c.SIDE_ADD_FILES,files:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:c.SIDE_REMOVE_FILES,keys:e}}function u(e){return{type:c.SIDE_UPDATE_SELECTED,value:e}}function s(e){return{type:c.SIDE_UPDATE_PROGRESS,value:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.visible=r,t.toggle=o,t.addFiles=i,t.removeFiles=a,t.updateSelected=u,t.updateProgress=s;var l=n(4),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(70),f=r(c),p=n(87),d=r(p),h=function(e){function t(e){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),u(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ple-container"},l.default.createElement("div",{className:"ple-body"},l.default.createElement(d.default,null),l.default.createElement(f.default,null)))}}]),t}(l.default.Component);h.displayName="Body",t.default=h},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=o(c),p=n(7),d=n(71),h=o(d),g=n(1),y=o(g),v=n(78),m=o(v),b=n(6),w=r(b),_=n(2),E=r(_),O=[],S=function(e){function t(e){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return u(t,e),l(t,[{key:"_selectBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props;if(null===e)return void t.api.grid.select([]);switch(t.keyboard.keyName){case"CMD":case"CTRL":case"SHIFT":if(E.object.isArray(t.tree.body.activeBlock)){var n=Object.assign([],t.tree.body.activeBlock);return n.indexOf(e)>-1?n.splice(n.indexOf(e),1):n.push(e),void t.api.grid.select(n)}}t.api.grid.select([e])}},{key:"_updateBlocks",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],this.props);switch(e){case"start":O[0]=(new Date).getTime();break;case"end":if(O[1]=(new Date).getTime(),O[1]-O[0]>400){var r=function(){for(var e={},n=0;n<t.length;n++)e[t[n].i.split("__")[1]]=t[n];return e}(),o={};Object.keys(n.tree.body.grid).forEach(function(e){o[e]=s({},n.tree.body.grid[e],{layout:{x:r[e].x,y:r[e].y,w:r[e].w,h:r[e].h}})}),n.dispatch(w.body.updateBlocks(o))}O=[]}}},{key:"renderItem",value:function(e){var t=this,n=this.props,r=n.tree.body,o=r.activeBlock,i=r.grid,a=i[e],u=a.indexPrefix+"__"+e,s=!!(o&&o.length&&o.indexOf(e)>-1);return f.default.createElement("div",{key:u,"data-grid":a.layout,"data-key":e,onClick:function(n){n.stopPropagation(),t._selectBlock(e,!!a.image)},style:{backgroundColor:a.color||n.setting.body.blockColor},className:(0,y.default)({"ple-grid__item-active":s})},a.image&&f.default.createElement("figure",{style:{backgroundImage:"url('"+a.image.src+"')",backgroundPosition:a.image.position,backgroundSize:a.image.size}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.tree.body.setting,r=n.width*n.column+n.innerMargin*(n.column-1)+2*n.outerMargin;return f.default.createElement("div",{className:"ple-grid__wrap",onClick:function(){return e._selectBlock()}},f.default.createElement("div",{className:"ple-grid__body",style:{width:r+"px"}},f.default.createElement(h.default,{autoSize:!0,cols:n.column,rowHeight:n.height,width:r,margin:[n.innerMargin,n.innerMargin],containerPadding:[n.outerMargin,n.outerMargin],verticalCompact:!n.freeMode,onDragStart:function(){return e._updateBlocks("start")},onDragStop:function(t,n,r,o,i,a){return e._updateBlocks("end",t,a)},onResizeStart:function(){return e._updateBlocks("start")},onResizeStop:function(t,n,r,o,i,a){return e._updateBlocks("end",t,a)},style:{width:"100%",backgroundColor:n.bgColor},className:"ple-grid"},Object.keys(t.tree.body.grid).map(function(t){return e.renderItem(t)})),t.tree.cropper.visible?f.default.createElement(m.default,null):null))}}]),t}(f.default.Component);S.displayName="GridLayout",S.defaultProps={tree:null,dispatch:null},t.default=(0,p.connect)(function(e){return Object.assign({},e,{})})(S)},function(e,t,n){e.exports=n(26).default,e.exports.utils=n(8),e.exports.Responsive=n(76).default,e.exports.Responsive.utils=n(29),e.exports.WidthProvider=n(77).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),l=r(s),c=n(3),f=r(c),p=n(27),d=n(73),h=n(8),g=n(1),y=r(g),v=function(e){function t(){var n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.state={resizing:null,dragging:null,className:""},a=n,i(r,a)}return a(t,e),t.prototype.calcColWidth=function(){var e=this.props,t=e.margin,n=e.containerPadding,r=e.containerWidth,o=e.cols;return(r-t[0]*(o-1)-2*n[0])/o},t.prototype.calcPosition=function(e,t,n,r,o){var i=this.props,a=i.margin,u=i.containerPadding,s=i.rowHeight,l=this.calcColWidth(),c={left:Math.round((l+a[0])*e+u[0]),top:Math.round((s+a[1])*t+u[1]),width:n===1/0?n:Math.round(l*n+Math.max(0,n-1)*a[0]),height:r===1/0?r:Math.round(s*r+Math.max(0,r-1)*a[1])};return o&&o.resizing&&(c.width=Math.round(o.resizing.width),c.height=Math.round(o.resizing.height)),o&&o.dragging&&(c.top=Math.round(o.dragging.top),c.left=Math.round(o.dragging.left)),c},t.prototype.calcXY=function(e,t){var n=this.props,r=n.margin,o=n.cols,i=n.rowHeight,a=n.w,u=n.h,s=n.maxRows,l=this.calcColWidth(),c=Math.round((t-r[0])/(l+r[0])),f=Math.round((e-r[1])/(i+r[1]));return c=Math.max(Math.min(c,o-a),0),f=Math.max(Math.min(f,s-u),0),{x:c,y:f}},t.prototype.calcWH=function(e){var t=e.height,n=e.width,r=this.props,o=r.margin,i=r.maxRows,a=r.cols,u=r.rowHeight,s=r.x,l=r.y,c=this.calcColWidth(),f=Math.round((n+o[0])/(c+o[0])),p=Math.round((t+o[1])/(u+o[1]));return f=Math.max(Math.min(f,a-s),0),p=Math.max(Math.min(p,i-l),0),{w:f,h:p}},t.prototype.createStyle=function(e){var t=this.props,n=t.usePercentages,r=t.containerWidth,o=t.useCSSTransforms,i=void 0;return o?i=(0,h.setTransform)(e):(i=(0,h.setTopLeft)(e),n&&(i.left=(0,h.perc)(e.left/r),i.width=(0,h.perc)(e.width/r))),i},t.prototype.mixinDraggable=function(e){return l.default.createElement(p.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},e)},t.prototype.mixinResizable=function(e,t){var n=this.props,r=n.cols,o=n.x,i=n.minW,a=n.minH,u=n.maxW,s=n.maxH,c=this.calcPosition(0,0,r-o,0).width,f=this.calcPosition(0,0,i,a),p=this.calcPosition(0,0,u,s),h=[f.width,f.height],g=[Math.min(p.width,c),Math.min(p.height,1/0)];return l.default.createElement(d.Resizable,{width:t.width,height:t.height,minConstraints:h,maxConstraints:g,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},e)},t.prototype.onDragHandler=function(e){var t=this;return function(n,r){var o=r.node,i=r.deltaX,a=r.deltaY,u=t.props[e];if(u){var s={top:0,left:0};switch(e){case"onDragStart":var l=o.offsetParent.getBoundingClientRect(),c=o.getBoundingClientRect();s.left=c.left-l.left+o.offsetParent.scrollLeft,s.top=c.top-l.top+o.offsetParent.scrollTop,t.setState({dragging:s});break;case"onDrag":if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");s.left=t.state.dragging.left+i,s.top=t.state.dragging.top+a,t.setState({dragging:s});break;case"onDragStop":if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");s.left=t.state.dragging.left,s.top=t.state.dragging.top,t.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+e)}var f=t.calcXY(s.top,s.left),p=f.x,d=f.y;u.call(t,t.props.i,p,d,{e:n,node:o,newPosition:s})}}},t.prototype.onResizeHandler=function(e){var t=this;return function(n,r){var o=r.node,i=r.size,a=t.props[e];if(a){var u=t.props,s=u.cols,l=u.x,c=u.i,f=u.maxW,p=u.minW,d=u.maxH,h=u.minH,g=t.calcWH(i),y=g.w,v=g.h;y=Math.min(y,s-l),y=Math.max(y,1),y=Math.max(Math.min(y,f),p),v=Math.max(Math.min(v,d),h),t.setState({resizing:"onResizeStop"===e?null:i}),a.call(t,c,y,v,{e:n,node:o,size:i})}}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.w,o=e.h,i=e.isDraggable,a=e.isResizable,s=e.useCSSTransforms,c=this.calcPosition(t,n,r,o,this.state),f=l.default.Children.only(this.props.children),p=l.default.cloneElement(f,{className:(0,y.default)("react-grid-item",f.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":i,"react-draggable-dragging":Boolean(this.state.dragging),cssTransforms:s}),style:u({},this.props.style,f.props.style,this.createStyle(c))});return a&&(p=this.mixinResizable(p,c)),i&&(p=this.mixinDraggable(p)),p},t}(l.default.Component);v.propTypes={children:f.default.element,cols:f.default.number.isRequired,containerWidth:f.default.number.isRequired,rowHeight:f.default.number.isRequired,margin:f.default.array.isRequired,maxRows:f.default.number.isRequired,containerPadding:f.default.array.isRequired,x:f.default.number.isRequired,y:f.default.number.isRequired,w:f.default.number.isRequired,h:f.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:f.default.string.isRequired,onDragStop:f.default.func,onDragStart:f.default.func,onDrag:f.default.func,onResizeStop:f.default.func,onResizeStart:f.default.func,onResize:f.default.func,isDraggable:f.default.bool.isRequired,isResizable:f.default.bool.isRequired,static:f.default.bool,useCSSTransforms:f.default.bool.isRequired,className:f.default.string,handle:f.default.string,cancel:f.default.string},v.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},t.default=v},function(e,t,n){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(28).default,e.exports.ResizableBox=n(75).default},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o);e.exports=function(e,t){return t.style&&e.props.style&&(t.style=r({},e.props.style,t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),i.default.cloneElement(e,t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(0),c=r(l),f=n(3),p=r(f),d=n(28),h=r(d),g=function(e){function t(){var n,r,o;i(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=r=a(this,e.call.apply(e,[this].concat(s))),r.state={width:r.props.width,height:r.props.height},r.onResize=function(e,t){var n=t.size;n.width,n.height,r.props.onResize?(e.persist&&e.persist(),r.setState(n,function(){return r.props.onResize&&r.props.onResize(e,t)})):r.setState(n)},o=n,a(r,o)}return u(t,e),t.prototype.componentWillReceiveProps=function(e){e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.render=function(){var e=this.props,t=e.handleSize,n=(e.onResize,e.onResizeStart),r=e.onResizeStop,i=e.draggableOpts,a=e.minConstraints,u=e.maxConstraints,l=e.lockAspectRatio,f=e.axis,p=(e.width,e.height,o(e,["handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height"]));return c.default.createElement(h.default,{handleSize:t,width:this.state.width,height:this.state.height,onResizeStart:n,onResize:this.onResize,onResizeStop:r,draggableOpts:i,minConstraints:a,maxConstraints:u,lockAspectRatio:l,axis:f},c.default.createElement("div",s({style:{width:this.state.width+"px",height:this.state.height+"px"}},p)))},t}(c.default.Component);g.propTypes={height:p.default.number,width:p.default.number},g.defaultProps={handleSize:[20,20]},t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(0),c=r(l),f=n(3),p=r(f),d=n(14),h=r(d),g=n(8),y=n(29),v=n(26),m=r(v),b=function(){},w=function(e){return Object.prototype.toString.call(e)},_=function(e){function t(){var n,r,o;i(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=r=a(this,e.call.apply(e,[this].concat(l))),r.state=r.generateInitialState(),r.onLayoutChange=function(e){var t;r.props.onLayoutChange(e,s({},r.props.layouts,(t={},t[r.state.breakpoint]=e,t)))},o=n,a(r,o)}return u(t,e),t.prototype.generateInitialState=function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,o=e.cols,i=(0,y.getBreakpointFromWidth)(n,t),a=(0,y.getColsFromBreakpoint)(i,o),u=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,y.findOrGenerateResponsiveLayout)(r,n,i,i,a,u),breakpoint:i,cols:a}},t.prototype.componentWillReceiveProps=function(e){if(e.width==this.props.width&&e.breakpoint===this.props.breakpoint&&(0,h.default)(e.breakpoints,this.props.breakpoints)&&(0,h.default)(e.cols,this.props.cols)){if(!(0,h.default)(e.layouts,this.props.layouts)){var t=this.state,n=t.breakpoint,r=t.cols,o=(0,y.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType);this.setState({layout:o})}}else this.onWidthChange(e)},t.prototype.onWidthChange=function(e){var t=e.breakpoints,n=e.cols,r=e.layouts,o=e.compactType,i=e.breakpoint||(0,y.getBreakpointFromWidth)(e.breakpoints,e.width),a=this.state.breakpoint;if(a!==i||this.props.breakpoints!==t||this.props.cols!==n){a in r||(r[a]=(0,g.cloneLayout)(this.state.layout));var u=(0,y.getColsFromBreakpoint)(i,n),s=(0,y.findOrGenerateResponsiveLayout)(r,t,i,a,u,o);s=(0,g.synchronizeLayoutWithChildren)(s,e.children,u,o),r[i]=s,this.props.onLayoutChange(s,r),this.props.onBreakpointChange(i,u),this.props.onWidthChange(e.width,e.margin,u,e.containerPadding),this.setState({breakpoint:i,layout:s,cols:u})}},t.prototype.render=function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,o(e,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]));return c.default.createElement(m.default,s({},t,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},t}(c.default.Component);_.propTypes={breakpoint:p.default.string,breakpoints:p.default.object,cols:p.default.object,layouts:function(e,t){if("[object Object]"!==w(e[t]))throw new Error("Layout property must be an object. Received: "+w(e[t]));Object.keys(e[t]).forEach(function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,g.validateLayout)(e.layouts[t],"layouts."+t)})},width:p.default.number.isRequired,onBreakpointChange:p.default.func,onLayoutChange:p.default.func,onWidthChange:p.default.func},_.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:b,onLayoutChange:b,onWidthChange:b},t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),l=r(s),c=n(3),f=r(c),p=n(9),d=r(p),h=function(e){var t,n;return n=t=function(t){function n(){var e,r,a;o(this,n);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return e=r=i(this,t.call.apply(t,[this].concat(s))),r.state={width:1280},r.mounted=!1,r.onWindowResize=function(e){if(r.mounted){var t=d.default.findDOMNode(r);t instanceof HTMLElement&&r.setState({width:t.offsetWidth})}},a=e,i(r,a)}return a(n,t),n.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){return this.props.measureBeforeMount&&!this.mounted?l.default.createElement("div",{className:this.props.className,style:this.props.style}):l.default.createElement(e,u({},this.props,this.state))},n}(l.default.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:f.default.bool},n};t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(7),f=n(5),p=r(f),d=n(1),h=r(d),g=n(79),y=r(g),v=n(2),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.tree.cropper;return n.imageMeta=null,n._block=null,n.$item=(0,p.default)(e.element).find(".react-grid-item").filter("[data-key="+r.key+"]"),n.state={pending:!0,position:r.item.image.position,size:r.item.image.size||"cover",width:n.$item.width(),height:n.$item.height(),top:n.$item.position().top,left:n.$item.position().left},n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.tree.cropper;m.util.getImageSize(n.item.image.src).then(function(t){e.imageMeta=t,e.setState({pending:!1})})}},{key:"_onClose",value:function(){var e=this.props;e.api.cropper.close(e.tree.cropper.key,this._block.state.position,this._block.state.size)}},{key:"_toggleImageType",value:function(){var e=this.state;if(this.props,"cover"===e.size){var t="",n=0;e.height>e.width?(n=m.number.getRatioForResize(e.height,this.imageMeta.height),t=parseInt(this.imageMeta.width*n)+"px "+e.height+"px"):(n=m.number.getRatioForResize(e.width,this.imageMeta.width),t=e.width+"px "+parseInt(this.imageMeta.height*n)+"px"),this.setState({position:"0 0",size:t})}else this.setState({position:"50% 50%",size:"cover"})}},{key:"render",value:function(){var e=this,t=this.state,n=this.props;return t.pending?null:l.default.createElement("div",{className:"ple-cropper"},l.default.createElement("span",{className:"ple-cropper__bg"}),l.default.createElement("div",{style:{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px"},className:"ple-cropper__wrap"},l.default.createElement(y.default,{ref:function(t){e._block=t},src:n.tree.cropper.item.image.src,position:t.position,size:t.size,bgColor:n.tree.cropper.item.color||n.setting.body.blockColor}),l.default.createElement("nav",{className:"ple-cropper__nav"},l.default.createElement("button",{type:"button",onClick:function(){return e._onClose()}},l.default.createElement("i",{className:"ple-sp-ico ple-ico-close ple-abs"},"Close cropper")),l.default.createElement("button",{type:"button",onClick:function(){return e._toggleImageType()},className:(0,h.default)({"ple-cropper__nav-active":"cover"!==t.size})},l.default.createElement("i",{className:"ple-sp-ico ple-ico-resize ple-abs"},"Toggle background size type")))))}}]),t}(l.default.Component);b.displayName="Cropper",t.default=(0,c.connect)(function(e){return Object.assign({},e,{})})(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(9),f=r(c),p=n(5),d=r(p),h=n(1),g=r(h),y=n(2),v={start:y.util.isTouchDevice()?"touchstart":"mousedown",move:y.util.isTouchDevice()?"touchmove":"mousemove",end:y.util.isTouchDevice()?"touchend":"mouseup"},m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={position:e.position,size:e.size,isCover:"cover"===e.size},n._self=null,n.$self=null,n.$img=null,n.moveStartInfo={},n.resizeStartInfo={},n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.$self=(0,d.default)(f.default.findDOMNode(this._self))}},{key:"componentWillReceiveProps",value:function(e){this.props.size!==e.size&&this.setState({position:e.position,size:e.size,isCover:"cover"===e.size})}},{key:"_moveStart",value:function(e){var t=this;e.stopPropagation();var n=this.state;this.$img=this.$self.find("img"),this.moveStartInfo={containerX:parseInt(n.position.split(" ")[0]),containerY:parseInt(n.position.split(" ")[1]),mouseX:(e.clientX||e.pageX||e.nativeEvent.touches[0].clientX)+(0,d.default)(window).scrollLeft(),mouseY:(e.clientY||e.pageY||e.nativeEvent.touches[0].clientY)+(0,d.default)(window).scrollTop()},(0,d.default)(document).on(v.move+".move",function(e){return t._moveIng(e)}).on(v.end+".move",function(e){return t._moveEnd(e)})}},{key:"_moveIng",value:function(e){e.stopPropagation();var t="touchmove"===e.type?e.originalEvent.touches[0]:e,n={},r={};n.x=(t.clientX||t.pageX)+(0,d.default)(window).scrollLeft(),n.y=(t.clientY||t.pageY)+(0,d.default)(window).scrollTop(),r.x=this.moveStartInfo.containerX+(n.x-this.moveStartInfo.mouseX),r.y=this.moveStartInfo.containerY+(n.y-this.moveStartInfo.mouseY),this.setState({position:parseInt(r.x)+"px "+parseInt(r.y)+"px"})}},{key:"_moveEnd",value:function(e){e.preventDefault(),this.$img=null,this.moveStartInfo=null,(0,d.default)(document).off(v.move+".move").off(v.end+".move")}},{key:"_resizeStart",value:function(e){var t=this;e.stopPropagation();var n=this.state;this.$img=this.$self.find("img"),this.resizeStartInfo={title:e.currentTarget.title,width:this.$img.width(),height:this.$img.height(),mouseX:(e.clientX||e.pageX||e.nativeEvent.touches[0].clientX)+(0,d.default)(window).scrollLeft(),posX:parseInt(n.position.split(" ")[0]),posY:parseInt(n.position.split(" ")[1])},(0,d.default)(document).on(v.move+".resize",function(e){return t._resizeIng(e)}).on(v.end+".resize",function(e){return t._resizeEnd(e)})}},{key:"_resizeIng",value:function(e){e.stopPropagation();var t={},n={},r=1,o=0,i="touchmove"===e.type?e.originalEvent.touches[0]:e,a=(i.clientX||i.pageX)+(0,d.default)(window).scrollLeft()-this.resizeStartInfo.mouseX;switch(this.resizeStartInfo.title){case"resize-lt":n.x=this.resizeStartInfo.posX+a,t.width=this.resizeStartInfo.width-a,r=t.width/this.$img.get(0).naturalWidth,t.height=parseInt(this.$img.get(0).naturalHeight*r),o=this.resizeStartInfo.height-t.height,n.y=this.resizeStartInfo.posY+o;break;case"resize-rt":n.x=this.resizeStartInfo.posX,t.width=this.resizeStartInfo.width+a,r=t.width/this.$img.get(0).naturalWidth,t.height=parseInt(this.$img.get(0).naturalHeight*r),o=this.resizeStartInfo.height-t.height,n.y=this.resizeStartInfo.posY+o;break;case"resize-lb":n.x=this.resizeStartInfo.posX+a,n.y=this.resizeStartInfo.posY,t.width=this.resizeStartInfo.width-a,r=t.width/this.$img.get(0).naturalWidth,t.height=parseInt(this.$img.get(0).naturalHeight*r);break;case"resize-rb":n.x=this.resizeStartInfo.posX,n.y=this.resizeStartInfo.posY,t.width=this.resizeStartInfo.width+a,r=t.width/this.$img.get(0).naturalWidth,t.height=parseInt(this.$img.get(0).naturalHeight*r);break;default:return}this.setState({size:parseInt(t.width)+"px "+parseInt(t.height)+"px",position:parseInt(n.x)+"px "+parseInt(n.y)+"px"})}},{key:"_resizeEnd",value:function(e){this.$img=null,this.resizeStartInfo=null,(0,d.default)(document).off(v.move+".resize").off(v.end+".resize")}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,r="cover"!==t.size?t.size.split(" "):t.size,o=t.position.split(" ");return l.default.createElement("figure",{ref:function(t){e._self=t},style:{backgroundColor:n.bgColor},className:"ple-cropperBlock ple-cropper__block"},t.isCover?l.default.createElement("span",{style:{backgroundImage:"url('"+n.src+"')"},className:"ple-cropperBlock__image ple-cropperBlock__image-cover"}):l.default.createElement("span",{className:(0,g.default)("ple-cropperBlock__image",{"ple-cropperBlock__image-resize":"cover"!==n.size})},l.default.createElement("img",{src:n.src,style:Object.assign({},"cover"!==t.size&&{width:r[0],transform:"translate("+o[0]+", "+o[1]+")"}),alt:"image"})),l.default.createElement("div",{onMouseDown:function(t){return e._moveStart(t)},onTouchStart:function(t){return e._moveStart(t)},style:Object.assign({},"cover"!==t.size&&{width:r[0],height:r[1],transform:"translate("+o[0]+", "+o[1]+")"}),className:(0,g.default)("ple-cropperBlock__control",{"ple-cropperBlock__control-active":"cover"!==n.size})},l.default.createElement("button",{type:"button",title:"resize-lt",onMouseDown:function(t){return e._resizeStart(t)},onTouchStart:function(t){return e._resizeStart(t)},className:"ple-cropperBlock__resize ple-cropperBlock__resize-lt"},l.default.createElement("i",{className:"ple-sp-ico ple-abs ple-ico-clamp"})),l.default.createElement("button",{type:"button",title:"resize-rt",onMouseDown:function(t){return e._resizeStart(t)},onTouchStart:function(t){return e._resizeStart(t)},className:"ple-cropperBlock__resize ple-cropperBlock__resize-rt"},l.default.createElement("i",{className:"ple-sp-ico ple-abs ple-ico-clamp"})),l.default.createElement("button",{type:"button",title:"resize-lb",onMouseDown:function(t){return e._resizeStart(t)},onTouchStart:function(t){return e._resizeStart(t)},className:"ple-cropperBlock__resize ple-cropperBlock__resize-lb"},l.default.createElement("i",{className:"ple-sp-ico ple-abs ple-ico-clamp"})),l.default.createElement("button",{type:"button",title:"resize-rb",onMouseDown:function(t){return e._resizeStart(t)},onTouchStart:function(t){return e._resizeStart(t)},className:"ple-cropperBlock__resize ple-cropperBlock__resize-rb"},l.default.createElement("i",{className:"ple-sp-ico ple-abs ple-ico-clamp"}))))}}]),t}(l.default.Component);m.displayName="Block",m.defaultProps={src:"",position:"",size:"",bgColor:"#fff"},t.default=m},function(e,t,n){"use strict";function r(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pleTimer";return new Promise(function(n){window[t]=setTimeout(n,e)})}function i(e){return new Promise(function(t,n){e&&"string"==typeof e||n();var r=document.createElement("img");r.onload=function(){t({width:r.naturalWidth,height:r.naturalHeight,ratio:r.naturalHeight/r.naturalWidth})},r.onerror=function(){n()},r.src=e})}function a(e,t){if(CSS&&CSS.supports)return CSS.supports(e,t)}function u(e){return new Promise(function(t){if(e){var n=new Image;n.onload=function(e){t(n)},n.onError=function(e){t(null)},n.setAttribute("crossOrigin","anonymous"),n.src=e}else t(null)})}Object.defineProperty(t,"__esModule",{value:!0}),t.isTouchDevice=r,t.sleep=o,t.getImageSize=i,t.checkSupportCss=a,t.loadImage=u,t.cssPrefix=function(){var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return{dom:"WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1],lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}()},function(e,t,n){"use strict";function r(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Math.random()*(t-e)+e:Math.floor(Math.random()*(t-e+1))+e}function o(e,t){return t>e?e/t:t/e}function i(){return Math.round(+new Date/1e3)}function a(e,t){var n=parseInt(e)/parseInt(t);return n=Math.round(1e3*n)/1e3}Object.defineProperty(t,"__esModule",{value:!0}),t.randomRange=r,t.getRatioForResize=o,t.getTimeStamp=i,t.getRatio=a},function(e,t,n){"use strict";function r(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}Object.defineProperty(t,"__esModule",{value:!0}),t.rgbToHex=r},function(e,t,n){"use strict";function r(e){var t=s.default.Deferred(),n=new FileReader;return n.addEventListener("load",function(n){t.resolve({name:e.name,type:e.type,size:e.size,url:n.target.result})}),n.addEventListener("error",function(e){t.reject(e.target)}),n.readAsDataURL(e),t.promise()}function o(e,t){function n(e){try{var t=JSON.parse(e.target.responseText);if("success"!==t.state)throw"server error";o.resolve(t.data)}catch(e){o.reject(e)}}function r(e){var t=e.loaded,n=e.total;o.notify("progress",t,n)}var o=s.default.Deferred(),i=new XMLHttpRequest;if("function"!=typeof FormData&&"object"!==("undefined"==typeof FormData?"undefined":a(FormData)))return o.reject("not support browser",t),null;var u=new FormData;return u.append("files[]",t),i.open("post",e,!0),i.addEventListener("load",n),i.upload.addEventListener("progress",r),i.send(u),o.notify("start"),o.promise()}function i(e,t){function n(){if(u>=a)return void i.resolve();t?o(t,e[u]).done(function(e){i.notify("done",{count:u,data:e}),u++,n()}).progress(function(e,t,n){i.notify(e,"progress"===e&&{loaded:t,total:n})}).fail(function(e){i.reject(e)}):r(e[u]).done(function(e){i.notify("done",{count:u,data:e}),u++,n()}).fail(function(){})}var i=s.default.Deferred(),a=e.length,u=0;return n(0),i.promise()}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i;var u=n(5),s=function(e){return e&&e.__esModule?e:{default:e}}(u)},function(e,t,n){"use strict";function r(e,t,n,r,o){var i={width:0,height:0};switch(e){case"cover":t>n?(i.width=t,i.height=o*(t/r),n>i.height&&(i.width=r*(n/o),i.height=n)):(i.width=r*(n/o),i.height=n,t>i.width&&(i.width=t,i.height=o*(t/r)));break;case"width":i.width=t,i.height=o*(t/r);break;case"height":i.width=r*(n/o),i.height=n;break;default:i.width=t,i.height=n}return{width:Math.round(i.width),height:Math.round(i.height)}}function o(e,t){if(!e||!t)return null;var n=(0,c.default)(e).children(),r=[];return n.each(function(e,n){var o=(0,c.default)(n),i=t[o.data("key")],a=i.image;a&&(a={src:a.src,position:a.position.split(" "),size:"cover"===a.size?null:a.size.split(" ")}),r.push({x:o.position().left,y:o.position().top,width:o.width(),height:o.height(),image:a||null,color:i.color||"rgba(255,255,255,1)"})}),r}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n){p.util.loadImage(e.image?e.image.src:null).then(function(o){if(o){var i={width:o.naturalWidth,height:o.naturalHeight},a={},u={};e.image.size?(a=r("width",parseInt(e.image.size[0]),0,i.width,i.height),u.x=parseInt(e.image.position[0]),u.y=parseInt(e.image.position[1])):(a=r("cover",e.width,e.height,i.width,i.height),u.x=.5*e.width-.5*a.width,u.y=.5*e.height-.5*a.height),p.resamplingImage({image:o,reSampleCount:t.sampling,width:e.width,height:e.height,cx:0,cy:0,cw:i.width,ch:i.height,dx:u.x,dy:u.y,dw:a.width,dh:a.height,bgColor:e.color}).then(function(t){n({width:e.width,height:e.height,x:e.x,y:e.y,image:t})})}else n({width:e.width,height:e.height,x:e.x,y:e.y,color:e.color,image:new p.Canvas(e.width,e.height,e.color)})})})}function a(e,t){return new Promise(function(n){e.ctx.drawImage(t.image.el,t.x,t.y,t.width,t.height),n(t.image.el)})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.75;switch(t){case"png":t="image/png";break;case"jpg":default:t="image/jpeg"}return e.toDataURL(t,"image/jpeg"===t?n:void 0)}function s(e){function t(e){return new Promise(function(t,n){i(e,f).then(function(e){a(v,e).then(t,n)},n)})}function n(e){h.splice(0,1),d.notify(y,g++,e),h.length?t(h[0]).then(n,r):s()}function r(e){d.reject(e)}function s(){switch(f.output){case"base64":d.resolve(u(v.el,f.format,f.quality));break;case"canvas":default:d.resolve(v.el)}}var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=c.default.Deferred(),h=o(e,l.grid),g=0,y=h.length,v=new p.Canvas(e.offsetWidth,e.offsetHeight,l.setting.bgColor);return d.notify(y,g++,null),h.length?t(h[0]).then(n,r):r("not found queue"),d.promise()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var l=n(5),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(2),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:150,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#ffffff";r(this,e),this.el=document.createElement("canvas"),this.ctx=this.el.getContext("2d"),this.el.width=t,this.el.height=n,this.ctx.fillStyle=o,this.ctx.fillRect(0,0,t,n)};t.default=o},function(e,t,n){"use strict";function r(e,t,n){return new Promise(function(r){function o(t,n){var i=Math.pow(2,t),u=new a.Canvas(e.width*i,e.height*i,e.bgColor);u.ctx.drawImage(n.el,0,0,.5*n.el.width,.5*n.el.height),t>0?o(t-1,u):r(u)}o(t-1,n)})}function o(e){return e=Object.assign({},u,e),new Promise(function(t,n){e.image||n("not found image"),e.reSampleCount=Math.min(4,e.reSampleCount),e.reSampleCount=Math.max(0,e.reSampleCount);var o=Math.pow(2,e.reSampleCount),i=new a.Canvas(e.width*o,e.height*o,e.bgColor);i.ctx.drawImage(e.image,e.cx,e.cy,e.cw,e.ch,e.dx*o,e.dy*o,e.dw*o,e.dh*o),e.reSampleCount>0?r(e,e.reSampleCount,i).then(t):t(i)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(2),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),u={image:null,width:100,height:100,reSampleCount:1,bgColor:"rgba(255,255,255,1)",cw:0,ch:0,cx:0,cy:0,dw:0,dh:0,dx:0,dy:0}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),d=o(p),h=n(1),g=o(h),y=n(7),v=n(5),m=o(v),b=n(31),w=o(b),_=n(6),E=r(_),O=n(2),S=r(O),x=n(102),k=o(x),C=n(103),P=o(C),j=function(e){function t(e){a(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={active:{setting:!1,editBlockColor:!1},visible:{setting:!0,shuffle:!0,add:!0,select:!0,edit:!1,removeImage:!1,duplicate:!1,removeBlock:!1,editColor:!1}},n}return s(t,e),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,n=this.props,r=Object.assign({},t),o=!1;if(n.tree.body.activeBlock.length!==e.tree.body.activeBlock.length){var i=!!e.tree.body.activeBlock.length;r.visible=Object.assign({},r.visible,{edit:!1,removeImage:!1,duplicate:i,removeBlock:i,editColor:i}),o=!0}if(e.tree.body.activeBlock[0]){var a=!1;e.tree.body.activeBlock.some(function(t){if(e.tree.body.grid[t].image)return a=!0,!0});var u=e.tree.body.grid[e.tree.body.activeBlock[0]];r.visible=Object.assign({},r.visible,{removeImage:a,edit:!(!u||!u.image)}),o=!0}o&&this.setState(r)}},{key:"changeActive",value:function(e,t,n){var r=this,o=this.state,a=t||!o.active[e],u=n?n.currentTarget:null;a?(0,m.default)(document).on("click.pleToolbar",function(t){(0,m.default)(t.target).closest(".ple-toolbar__pop").length||t.target!==u&&t.target.parentNode!==u&&r.changeActive(e,!1)}):(0,m.default)(document).off("click.pleToolbar"),this.setState({active:c({},o.active,i({setting:!1,editColor:!1},e,a))})}},{key:"deactivate",value:function(){var e=this;return(0,m.default)(document).off("click.pleToolbar"),new Promise(function(t){e.setState({active:{setting:!1,editColor:!1}},t)})}},{key:"submitEditSetting",value:function(e){var t=this;return this.props.dispatch(E.body.updateSetting(e)),S.util.sleep(50).then(function(){return t.changeActive("setting",!1)}),!1}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,r="#fff";if("object"===l(n.tree.body.grid)&&S.object.isArray(n.tree.body.activeBlock)){var o=n.tree.body.activeBlock[0];r=n.tree.body.grid[o]&&n.tree.body.grid[o].color?n.tree.body.grid[o].color:n.setting.body.blockColor}return d.default.createElement("nav",{className:"ple-toolbar"},d.default.createElement("div",{className:"ple-toolbar__wrap"},t.visible.setting&&d.default.createElement(k.default,{iconClass:"ple-ico-setting",className:(0,g.default)("ple-edit-setting",{"ple-toolbar__block-active":t.active.setting}),onClick:function(n){n.persist(),t.active.setting||e.deactivate().then(function(){e.changeActive("setting",null,n)})},title:"Edit preference"},d.default.createElement(P.default,{submit:function(t){return e.submitEditSetting(t)},setting:n.tree.body.setting,defaultSetting:n.setting.body.setting})),t.visible.shuffle&&d.default.createElement(k.default,{iconClass:"ple-ico-arrow-random",onClick:function(){return n.api.grid.shuffle()},title:"Shuffle block"}),t.visible.add&&d.default.createElement(k.default,{iconClass:"ple-ico-plus",onClick:function(){return n.api.grid.add()},title:"Add block"}),t.visible.select&&d.default.createElement(k.default,{iconClass:"ple-ico-select",onClick:function(){return n.api.grid.toggleSelectAll()},title:"Toggle select block"}),t.visible.edit&&d.default.createElement(k.default,{iconClass:"ple-ico-pencil",className:"ple-toolbar__block-key",onClick:function(){return n.api.cropper.open(n.tree.body.activeBlock[0])},title:"Edit block"}),t.visible.removeImage&&d.default.createElement(k.default,{iconClass:"ple-ico-empty",className:"ple-toolbar__block-key",onClick:function(){return n.api.grid.removeImages(n.tree.body.activeBlock)},title:"Remove image in block"}),t.visible.duplicate&&d.default.createElement(k.default,{iconClass:"ple-ico-duplicate",className:"ple-toolbar__block-key",onClick:function(){if(null===n.tree.body.activeBlock)return void alert("Not found select block");n.dispatch(E.body.duplicateBlock(n.tree.body.activeBlock))},title:"Duplicate block"}),t.visible.removeBlock&&d.default.createElement(k.default,{iconClass:"ple-ico-trash",className:"ple-toolbar__block-key",onClick:function(){if(null===n.tree.body.activeBlock)return void alert("Not found select block");n.api.grid.remove(n.tree.body.activeBlock)},title:"Remove block"}),t.visible.editColor&&d.default.createElement(k.default,{iconClass:"ple-ico-palette",className:(0,g.default)("ple-edit-color","ple-toolbar__block-key",{"ple-toolbar__block-active":t.active.editColor}),onClick:function(n){n.persist(),t.active.editColor||e.deactivate().then(function(){return e.changeActive("editColor",null,n)})},title:"Change color"},d.default.createElement("div",{className:"ple-colorPicker__wrap"},d.default.createElement(w.default,{onChange:function(e){e&&n.dispatch(E.body.changeColorBlock(n.tree.body.activeBlock,e))},color:r,className:"ple-colorPicker__body"})))))}}]),t}(d.default.Component);j.displayName="Toolbar",j.defaultProps={dispatch:null,tree:null},t.default=(0,y.connect)(function(e){return Object.assign({},e,{})})(j)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(9),f=r(c),p=n(3),d=r(p),h=n(1),g=r(h),y=n(15),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._self=null,n.rect=null,n.onHandleUpdate=n._onUpdate.bind(n),n.onStopUpdates=n._onStopUpdates.bind(n),n}return a(t,e),u(t,[{key:"getPosition",value:function(e){return e.touches&&(e=e.touches[0]),{x:e.clientX,y:e.clientY}}},{key:"getPercentageValue",value:function(e){return e/this.props.max*100+"%"}},{key:"updatePosition",value:function(e,t){this.props.onChange(this.getScaledValue((t-e.left)/e.width))}},{key:"getScaledValue",value:function(e){return v.util.clamp(e,0,1)*this.props.max}},{key:"getBoundingRect",value:function(){return f.default.findDOMNode(this._self).getBoundingClientRect()}},{key:"_onStartUpdates",value:function(e){e.preventDefault();var t=this.getPosition(e),n=t.x;this._rect=this.getBoundingRect(),document.addEventListener("mousemove",this.onHandleUpdate),document.addEventListener("touchmove",this.onHandleUpdate),document.addEventListener("mouseup",this.onStopUpdates),document.addEventListener("touchend",this.onStopUpdates),this.setState({active:!0}),this.updatePosition(this._rect,n)}},{key:"_onStopUpdates",value:function(){document.removeEventListener("mousemove",this.onHandleUpdate),document.removeEventListener("touchmove",this.onHandleUpdate),document.removeEventListener("mouseup",this.onStopUpdates),document.removeEventListener("touchend",this.onStopUpdates),this.setState({active:!1})}},{key:"_onUpdate",value:function(e){e.preventDefault();var t=this.getPosition(e),n=t.x;this.updatePosition(this._rect,n)}},{key:"render",value:function(){var e=this,t=this.props;return l.default.createElement("div",{ref:function(t){e._self=t},className:(0,g.default)("cpSlider",t.className),onMouseDown:this._onStartUpdates.bind(this),onTouchStart:this._onStartUpdates.bind(this)},l.default.createElement("div",{className:"cpSlider__track"},l.default.createElement("span",{style:{background:t.background}})),l.default.createElement("div",{className:"cpSlider__pointer",style:{left:this.getPercentageValue(this.props.value)}}))}}]),t}(l.default.Component);m.propTypes={value:d.default.number.isRequired,background:d.default.string},m.defaultProps={value:0,background:"",className:null},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){e=(0,l.default)(e);var t=(0,f.default)(e),n=4===e.length?e[3]:1;return t.push(n),t}function i(e){var t=(0,d.default)(e);return 4===e.length&&t.push(e[3]),(0,g.default)(t)}function a(e,t){return i(e)===i(t)}function u(e){return(0,v.default)((0,d.default)(e))<=128}Object.defineProperty(t,"__esModule",{value:!0}),t.parseToHsv=o,t.toRgbString=i,t.equals=a,t.isDark=u;var s=n(90),l=r(s),c=n(95),f=r(c),p=n(96),d=r(p),h=n(97),g=r(h),y=n(98),v=r(y)},function(e,t,n){function r(e){var t=i(e),n=s(t);return 4===t.length&&n.push(t[3]),n}function o(e){for(var t in l)if(0===e.indexOf(t))return l[t](e)}var i=n(91),a=n(92),u=n(93),s=n(94),l={"#":a,hsl:r,rgb:u};o.rgb=u,o.hsl=i,o.hex=a,e.exports=o},function(e,t,n){function r(e,t){switch(e=parseFloat(e),t){case 0:return a(e,0,360);case 1:case 2:return a(e,0,100);case 3:return a(e,0,1)}}function o(e){return i(e).map(r)}var i=n(32),a=n(33);e.exports=o},function(e,t){function n(e){for(var t="#",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}function r(e){4!==e.length&&5!==e.length||(e=n(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var r=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(r)}return t}e.exports=r},function(e,t,n){function r(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*a(parseInt(e,10),0,100)/100):a(parseInt(e,10),0,255):a(parseFloat(e),0,1)}function o(e){return i(e).map(r)}var i=n(32),a=n(33);e.exports=o},function(e,t){function n(e){var t,n,r,o,i,a=e[0]/360,u=e[1]/100,s=e[2]/100;if(0==u)return i=255*s,[i,i,i];n=s<.5?s*(1+u):s+u-s*u,t=2*s-n,o=[0,0,0];for(var l=0;l<3;l++)r=a+1/3*-(l-1),r<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[l]=255*i;return o}e.exports=n},function(e,t){function n(e){var t,n,r,o=e[0],i=e[1],a=e[2],u=Math.min(o,i,a),s=Math.max(o,i,a),l=s-u;return n=0==s?0:l/s*1e3/10,s==u?t=0:o==s?t=(i-a)/l:i==s?t=2+(a-o)/l:a==s&&(t=4+(o-i)/l),t=Math.min(60*t,360),t<0&&(t+=360),r=s/255*1e3/10,[t,n,r]}e.exports=n},function(e,t){function n(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),u=255*r*(1-n*i),s=255*r*(1-n*(1-i)),r=255*r;switch(o){case 0:return[r,s,a];case 1:return[u,r,a];case 2:return[a,r,s];case 3:return[a,u,r];case 4:return[s,a,r];case 5:return[r,a,u]}}e.exports=n},function(e,t){function n(e){var t="rgb";return 4===e.length&&(t+="a"),e[0]=Math.round(e[0]),e[1]=Math.round(e[1]),e[2]=Math.round(e[2]),t+"("+e.join(",")+")"}e.exports=n},function(e,t){function n(e){return(299*e[0]+587*e[1]+114*e[2])/1e3}e.exports=n},function(e,t,n){"use strict";function r(e,t,n){return Math.min(Math.max(e,t),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(9),f=r(c),p=n(3),d=r(p),h=n(1),g=r(h),y=n(15),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={active:!1},n._self=null,n._rect=null,n.onHandleUpdate=n._onUpdate.bind(n),n.onStopUpdates=n._onStopUpdates.bind(n),n}return a(t,e),u(t,[{key:"updatePosition",value:function(e,t,n){var r=(t-e.left)/e.width,o=(e.bottom-n)/e.height;this.props.onChange(this.getScaledValue(r),this.getScaledValue(o))}},{key:"getScaledValue",value:function(e){return v.util.clamp(e,0,1)*this.props.max}},{key:"getPercentageValue",value:function(e){return e/this.props.max*100+"%"}},{key:"getPosition",value:function(e){return e.touches&&(e=e.touches[0]),{x:e.clientX,y:e.clientY}}},{key:"getBoundingRect",value:function(){return f.default.findDOMNode(this._self).getBoundingClientRect()}},{key:"_onStartUpdates",value:function(e){e.preventDefault();var t=this.getPosition(e),n=t.x,r=t.y;this._rect=this.getBoundingRect(),document.addEventListener("mousemove",this.onHandleUpdate),document.addEventListener("touchmove",this.onHandleUpdate),document.addEventListener("mouseup",this.onStopUpdates),document.addEventListener("touchend",this.onStopUpdates),this.setState({active:!0}),this.updatePosition(this._rect,n,r)}},{key:"_onStopUpdates",value:function(){document.removeEventListener("mousemove",this.onHandleUpdate),document.removeEventListener("touchmove",this.onHandleUpdate),document.removeEventListener("mouseup",this.onStopUpdates),document.removeEventListener("touchend",this.onStopUpdates),this.setState({active:!1})}},{key:"_onUpdate",value:function(e){e.preventDefault();var t=this.getPosition(e),n=t.x,r=t.y;this.updatePosition(this._rect,n,r)}},{key:"render",value:function(){var e=this,t=this.state,n=this.props;return l.default.createElement("div",{ref:function(t){e._self=t},onMouseDown:this._onStartUpdates.bind(this),onTouchStart:this._onStartUpdates.bind(this),className:(0,g.default)("cpMap",n.className,{"cpMap-active":t.active})},l.default.createElement("div",{className:"cpMap__background",style:{backgroundColor:n.backgroundColor}}),l.default.createElement("div",{className:"cpMap__pointer",style:{left:this.getPercentageValue(this.props.x),bottom:this.getPercentageValue(this.props.y)}}))}}]),t}(l.default.Component);m.propTypes={x:d.default.number.isRequired,y:d.default.number.isRequired,backgroundColor:d.default.string,className:d.default.string},m.defaultProps={x:0,y:0,backgroundColor:"transparent",className:null},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(1),f=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"renderItem",value:function(e,t){var n=this;return l.default.createElement("li",{key:t},l.default.createElement("div",null,l.default.createElement("button",{type:"button",onClick:function(t){return n._onClickItem(e)},style:{backgroundColor:e}},e)))}},{key:"_onClickItem",value:function(e){var t=this.props;t.onSelectColor&&t.onSelectColor(e)}},{key:"render",value:function(){var e=this.props;return l.default.createElement("nav",{className:(0,f.default)("cpPalette",e.className)},l.default.createElement("ul",null,e.colors.map(this.renderItem.bind(this))))}}]),t}(l.default.Component);p.defaultProps={colors:[],onSelectColor:function(e){},className:null},t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(1),f=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props;return l.default.createElement("div",{className:(0,f.default)("ple-toolbar__block",e.className)},l.default.createElement("button",{type:"button",title:e.title,onClick:e.onClick},l.default.createElement("i",{className:(0,f.default)("ple-sp-ico","ple-abs",e.iconClass)},e.title)),!!e.children&&l.default.createElement("div",{className:"ple-toolbar__pop"},e.children))}}]),t}(l.default.Component);p.displayName="Button",t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),p=n(5),d=r(p),h=n(31),g=r(h),y=n(1),v=r(y),m=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=s({},e.defaultSetting,e.setting,{popup_bgColor:!1}),n}return u(t,e),l(t,[{key:"componentWillReceiveProps",value:function(){var e=this.props;this.setState(s({},e.defaultSetting,e.setting))}},{key:"activeBgColorPopup",value:function(e,t){var n=this,r=this.state,o=t?t.currentTarget:null;e=e||!r.popup_bgColor,e?(0,d.default)(document).on("click.pleEditBgColor",function(e){(0,d.default)(e.target).closest(".ple-edit-bgColor__popup").length||e.target!==o&&e.target.parentNode!==o&&n.activeBgColorPopup(!1)}):(0,d.default)(document).off("click.pleEditBgColor"),this.setState({popup_bgColor:e})}},{key:"_submit",value:function(e){e.preventDefault(),this.props.submit(this.state)}},{key:"_reset",value:function(){this.setState(s({},this.props.defaultSetting))}},{key:"_change",value:function(e){var t=e.target.value||"";switch(e.target.type){case"text":this.setState(o({},e.target.name,t));break;case"number":t=t||0,this.setState(o({},e.target.name,parseInt(t)))}}},{key:"_openBgColorPicker",value:function(e){e.persist(),this.activeBgColorPopup(null,e)}},{key:"render",value:function(){var e=this,t=this.state;return this.props,f.default.createElement("form",{onSubmit:function(t){return e._submit(t)},className:"ple-edit-setting"},f.default.createElement("fieldset",{className:"ple-edit-setting__form"},f.default.createElement("legend",null,"Settings form"),f.default.createElement("h1",{className:"ple-edit-setting__title"},"Settings"),f.default.createElement("dl",null,f.default.createElement("dt",null,f.default.createElement("label",{htmlFor:"frm_width"},"Width")),f.default.createElement("dd",{className:"ple-type-input"},f.default.createElement("input",{type:"number",name:"width",id:"frm_width",min:1,max:999,maxLength:3,value:t.width,onChange:function(t){return e._change(t)},style:{width:"72px"},required:!0}),f.default.createElement("span",null,"px"))),f.default.createElement("dl",null,f.default.createElement("dt",null,f.default.createElement("label",{htmlFor:"frm_height"},"Height")),f.default.createElement("dd",{className:"ple-type-input"},f.default.createElement("input",{type:"number",name:"height",id:"frm_height",min:1,max:999,value:t.height,onChange:function(t){return e._change(t)},style:{width:"72px"},required:!0}),f.default.createElement("span",null,"px"))),f.default.createElement("dl",null,f.default.createElement("dt",null,f.default.createElement("label",{htmlFor:"frm_column"},"Column")),f.default.createElement("dd",{className:"ple-type-input"},f.default.createElement("input",{type:"number",name:"column",id:"frm_column",min:1,max:99,value:t.column,onChange:function(t){return e._change(t)},style:{width:"54px"},required:!0}),f.default.createElement("span",null,"ea"))),f.default.createElement("dl",{className:"ple-type-input"},f.default.createElement("dt",null,f.default.createElement("label",{htmlFor:"frm_outerMargin"},"Outer margin")),f.default.createElement("dd",null,f.default.createElement("input",{type:"number",name:"outerMargin",id:"frm_outerMargin",min:0,max:500,value:t.outerMargin,onChange:function(t){return e._change(t)},style:{width:"58px"},required:!0}),f.default.createElement("span",null,"px"))),f.default.createElement("dl",{className:"ple-type-input"},f.default.createElement("dt",null,f.default.createElement("label",{htmlFor:"frm_innerMargin"},"Inner margin")),f.default.createElement("dd",null,f.default.createElement("input",{type:"number",name:"innerMargin",id:"frm_innerMargin",min:0,max:500,value:t.innerMargin,onChange:function(t){return e._change(t)},style:{width:"58px"},required:!0}),f.default.createElement("span",null,"px"))),f.default.createElement("dl",null,f.default.createElement("dt",null,f.default.createElement("label",{htmlFor:"frm_bgColor"},"Bg color")),f.default.createElement("dd",null,f.default.createElement("div",{className:"ple-edit-bgColor"},f.default.createElement("span",{className:(0,v.default)("ple-edit-bgColor__inputBox",{"ple-edit-bgColor__inputBox-active":t.popup_bgColor})},f.default.createElement("input",{type:"text",name:"bgColor",id:"frm_bgColor",value:t.bgColor,onChange:function(t){return e._change(t)},onClick:function(t){return e._openBgColorPicker(t)},readOnly:!0,required:!0,className:"ple-edit-bgColor__input",style:{backgroundColor:t.bgColor}})),t.popup_bgColor&&f.default.createElement("div",{className:"ple-edit-bgColor__popup"},f.default.createElement("div",{className:"ple-edit-bgColor__picker"},f.default.createElement(g.default,{onChange:function(t){return e.setState({bgColor:t})},color:t.bgColor})))))),f.default.createElement("dl",null,f.default.createElement("dt",null,f.default.createElement("label",{htmlFor:"frm_freeMode"},"Free mode")),f.default.createElement("dd",{className:"ple-type-checkbox"},f.default.createElement("label",null,f.default.createElement("input",{type:"radio",name:"freeMode",id:"frm_freeMode",onChange:function(){return e.setState({freeMode:!0})},checked:t.freeMode}),f.default.createElement("span",null,"true")),f.default.createElement("label",null,f.default.createElement("input",{type:"radio",name:"freeMode",onChange:function(){return e.setState({freeMode:!1})},checked:!t.freeMode}),f.default.createElement("span",null,"false"))))),f.default.createElement("nav",{className:"ple-edit-setting__buttons"},f.default.createElement("span",null,f.default.createElement("button",{type:"button",onClick:function(){return e._reset()}},"Reset")),f.default.createElement("span",null,f.default.createElement("button",{type:"submit",className:"ple-submit"},"Apply"))))}}]),t}(f.default.Component);m.displayName="EditLayoutSetting",m.defaultProps={submit:function(e){},setting:null,defaultSetting:{width:100,height:100,column:5,outerMargin:10,innerMargin:10,freeMode:!1,bgColor:"rgba(255,255,255,1)"}},t.default=m},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=o(l),f=n(7),p=n(1),d=o(p),h=n(5),g=o(h),y=n(6),v=r(y),m=n(105),b=o(m),w=n(106),_=o(w),E=n(107),O=o(E),S=n(2),x=r(S),k=n(109),C=o(k),P=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dragTarget=null,n.dragPosition=[],n.$gridItems=null,n.$dragItem=null,n.uploading=!1,n}return u(t,e),s(t,[{key:"getGridsterItem",value:function(){var e=this,t=this.props,n=null;return this.$gridItems=(0,g.default)(t.element).find(".ple-grid > div"),this.$gridItems.each(function(t,r){var o=(0,g.default)(r),i=o.offset();if(i.left<e.dragPosition[0]&&i.left+o.width()>e.dragPosition[0]&&i.top<e.dragPosition[1]&&i.top+o.height()>e.dragPosition[1])return n=o.data("key"),!1}),n}},{key:"_selectItem",value:function(e){var t=this.props,n=(0,C.default)(t,e);t.api.side.select(n)}},{key:"_removeItems",value:function(){var e=this.props,t=e.api.side.getKeys("selected");if(t.length)confirm("Do you really want to delete it?")&&e.api.side.remove(t);else{if(!confirm("Delete all?"))return;t=e.api.side.getKeys("all"),e.api.side.remove(t)}}},{key:"_upload",value:function(e){this.props.api.side.upload(e)}},{key:"_attach",value:function(){try{var e=this.props.api.side.getKeys("selected"),t=this.props.api.side.attachToGrid(e);if(t)throw t}catch(e){alert(e.message)}}},{key:"_dragStartItem",value:function(e){var t=this,n=this.props;e.dataTransfer.setData("text/plain",null),this.$gridItems=(0,g.default)(n.element).find(".ple-grid > div"),this.$gridItems.on("dragover",function(e){e.preventDefault(),(0,g.default)(e.currentTarget).hasClass("ple-grid__item-hover")||(0,g.default)(e.currentTarget).addClass("ple-grid__item-hover")}).on("dragleave",function(e){e.preventDefault(),(0,g.default)(e.currentTarget).removeClass("ple-grid__item-hover")}).on("drop",function(e){e.preventDefault(),(0,g.default)(e.currentTarget).removeClass("ple-grid__item-hover"),t.dragTarget=(0,g.default)(e.currentTarget).data("key")})}},{key:"_dragEndItem",value:function(e){var t=this.props;this.$gridItems.off(),this.$gridItems=null,null!==this.dragTarget&&(t.dispatch(v.body.attachImage(this.dragTarget,(0,g.default)(e.currentTarget).data("image"))),this.dragTarget=null)}},{key:"_touchStartItem",value:function(e){this.$dragItem=(0,g.default)(e.currentTarget).clone().removeAttr("draggable").addClass("ple-side__placeholder").width((0,g.default)(e.currentTarget).width()).height((0,g.default)(e.currentTarget).height()),(0,g.default)("body").append(this.$dragItem)}},{key:"_touchMoveItem",value:function(e){x.util.checkSupportCss("touch-action","pan-y")||e.preventDefault();var t=e.nativeEvent.touches[0];this.dragPosition=[t.pageX,t.pageY],this.$dragItem.css({left:t.pageX-.5*this.$dragItem.width(),top:t.pageY-.5*this.$dragItem.height()})}},{key:"_touchEndItem",value:function(e){var t=this.props;if(this.$dragItem.remove(),this.$dragItem=null,this.dragPosition.length>0){if(this.dragTarget=this.getGridsterItem(),null===this.dragTarget)return;t.dispatch(v.body.attachImage(this.dragTarget,(0,g.default)(e.currentTarget).data("image"))),this.dragPosition=[]}}},{key:"render",value:function(){var e=this,t=this.props;return c.default.createElement("aside",{className:"ple-side"},c.default.createElement("div",{className:(0,d.default)("ple-side__wrap",{"ple-side__wrap-show":t.tree.side.visible})},c.default.createElement("span",{onClick:function(){return t.api.side.toggleSelectAll(!1)},className:"ple-side__background"}),c.default.createElement(b.default,{show:t.tree.side.visible,onClick:function(){return t.api.util.toggleSide(void 0)}}),c.default.createElement(_.default,{onAttach:function(){return e._attach()},onToggleSelect:function(){return t.api.side.toggleSelectAll()},onUpload:function(t){return e._upload(t)},onRemove:function(){return e._removeItems()}}),c.default.createElement(O.default,{files:t.tree.side.files,onSelect:function(t){return e._selectItem(t)},onDragStart:function(t){return e._dragStartItem(t)},onDragEnd:function(t){return e._dragEndItem(t)},onTouchStart:function(t){return e._touchStartItem(t)},onTouchMove:function(t){return e._touchMoveItem(t)},onTouchEnd:function(t){return e._touchEndItem(t)},progress:t.tree.side.progressPercent})))}}]),t}(c.default.Component);P.displayName="Side",P.defaultProps={tree:{},setting:{},api:{},dispatch:null},t.default=(0,f.connect)(function(e){return Object.assign({},e)})(P)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(1),f=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props;return l.default.createElement("button",{type:"button",onClick:e.onClick,className:"ple-side__toggle"},l.default.createElement("span",null,l.default.createElement("i",{className:(0,f.default)("ple-sp-ico","ple-abs",{"ple-ico-arrow-right":e.show,"ple-ico-arrow-left":!e.show})},"Toggle sidebar")))}}]),t}(s.Component);p.displayName="ToggleSideButton",p.defaultProps={show:!1,onClick:function(){}},t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(u),l=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.comps={inputFile:null},n.state={timestamp:Date.now()},n}return i(t,e),a(t,[{key:"upload",value:function(e){this.props.onUpload(e.target.files),this.setState({timestamp:Date.now()})}},{key:"render",value:function(){var e=this,t=this.props,n=this.state,r=this.comps;return s.default.createElement("nav",{className:"ple-sideNavigation ple-side__navigation"},s.default.createElement("div",{className:"ple-sideNavigation__wrap"},s.default.createElement("button",{type:"button",title:"attach images",onClick:t.onAttach},s.default.createElement("i",{className:"ple-sp-ico ple-ico-reply ple-abs"},"Moving the image to grid block")),s.default.createElement("button",{type:"button",title:"toggle select",onClick:t.onToggleSelect},s.default.createElement("i",{className:"ple-sp-ico ple-ico-select ple-abs"},"Toggle all select")),s.default.createElement("span",{title:"upload images",key:n.timestamp},s.default.createElement("input",{ref:function(e){r.inputFile=e},type:"file",onChange:function(t){return e.upload(t)},multiple:!0}),s.default.createElement("i",{className:"ple-sp-ico ple-ico-upload ple-abs"},"upload images")),s.default.createElement("button",{type:"button",title:"remove images",onClick:t.onRemove},s.default.createElement("i",{className:"ple-sp-ico ple-ico-trash ple-abs"},"remove images"))))}}]),t}(s.default.Component);l.displayName="Navigation",l.defaultProps={onRemove:function(){},onToggleSelect:function(){},onAttach:function(){},onUpload:function(){}},t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(108),f=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props;return l.default.createElement("div",{className:"ple-sideItems"},l.default.createElement("div",{className:"ple-sideItems__wrap"},l.default.createElement("ul",null,Object.keys(e.files).map(function(t){return l.default.createElement(f.default,{key:t,id:t,image:e.files[t].image,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd,onClick:function(){return e.onSelect(parseInt(t))},active:e.files[t].active})}),null!==e.progress&&l.default.createElement("li",{className:"ple-sideItems__loading"},l.default.createElement("div",{className:"ple-sideItems__progress"},l.default.createElement("span",{className:"ple-sideItems__bar",style:{height:e.progress+"%"}}),l.default.createElement("span",{className:"ple-sideItems__percent"},e.progress+"%"))))))}}]),t}(l.default.Component);p.displayName="Items",p.defaultProps={files:[],onSelect:function(e){},onDragStart:null,onDragEnd:null,onTouchStart:null,onTouchMove:null,onTouchEnd:null,progress:null},t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),f=n(1),p=r(f),d=n(2),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),g=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=Object.assign({},h.util.isTouchDevice()?{onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd}:{onDragStart:e.onDragStart,onDragEnd:e.onDragEnd});return c.default.createElement("li",null,c.default.createElement("span",u({type:"button","data-id":e.id,"data-image":e.image,draggable:!0,onClick:e.onClick},t,{style:{backgroundImage:"url('"+e.image+"')"},className:(0,p.default)({"ple-sideItems__item-active":e.active})})))}}]),t}(c.default.Component);g.displayName="Item",g.defaultProps={image:null,id:null,active:null,onClick:null,onDragStart:null,onDragEnd:null,onTouchStart:null,onTouchMove:null,onTouchEnd:null},t.default=g},function(e,t,n){"use strict";function r(e,t,n,r,o){switch(o){case"add":return{key:e,active:e===r?!t.active:t.active};case"range":return n=n||0,n<r?{key:e,active:e>=n&&e<=r}:{key:e,active:e<=n&&e>=r}}return e===r?{key:e,active:!t.active}:{key:e,active:!1}}function o(e,t){var n=e.keyboard.keyName,o=e.tree.side.files,a=null,u=!1,s={};if("SHIFT"!==n){var l=null;Object.keys(e.tree.side.files).forEach(function(n){var r=e.tree.side.files[n];if(parseInt(n)===t)return l=r,!1}),(i=!0===l.active?null:t)||!0!==l.active||(i=l.key)}switch(n){case"CTRL":case"CMD":a="add";break;case"SHIFT":a="range"}return Object.keys(o).forEach(function(e){var n=r(parseInt(e),o[e],i,t,a);n.active&&(u=!0),s[e]=n}),u||(i=null),s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=null},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=n(111),a=r(i),u=n(113),s=r(u),l=n(114),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(115),p=r(f);t.default=(0,o.combineReducers)({setting:a.setting,api:a.api,keyboard:a.keyboard,element:a.element,tree:(0,o.combineReducers)({side:c.default,body:(0,o.combineReducers)({setting:s.setting,grid:s.grid,activeBlock:s.activeBlock}),cropper:(0,o.combineReducers)({visible:p.visible,item:p.item,key:p.key})})})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(Object.assign({},e),t.type){case c.INIT_PLE:return Object.assign({},{base:s({},h.setting.base,{uploadScript:t.preference.uploadScript||h.setting.base.uploadScript,uploadParamsConvertFunc:t.preference.uploadParamsConvertFunc||h.setting.base.uploadParamsConvertFunc,updateStoreFunc:t.preference.updateStoreFunc||h.setting.base.updateStoreFunc}),side:s({},h.setting.side,t.preference.side),body:s({},h.setting.body,t.preference.body)});default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case c.INIT_PLE:return t.api;default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(arguments[1].type){case c.INIT_PLE:return new p.default;default:return e}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case c.INIT_PLE:return t.element;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.setting=o,t.api=i,t.keyboard=a,t.element=u;var l=n(4),c=r(l),f=n(112),p=function(e){return e&&e.__esModule?e:{default:e}}(f),d=n(16),h=r(d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(5),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n(2),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),l=function(){function e(){var t=this;r(this,e),this.eventName="PLE_"+s.number.getTimeStamp(),this.code=null,this.keyName=null,this.names={17:"CTRL",18:"ALT",91:"CMD",93:"CMD",16:"SHIFT"},(0,a.default)(window).on("keydown."+this.eventName,function(e){return t._keyDown(e)})}return o(e,[{key:"apply",value:function(e){this.code=e,this.keyName=this.names[this.code]||null}},{key:"_keyDown",value:function(e){var t=this;this.apply(e.keyCode),(0,a.default)(window).on("keyup."+this.eventName,function(){return t._keyUp()}).on("contextmenu."+this.eventName,function(){return t._keyUp()}).on("blur."+this.eventName,function(){return t._keyUp()}).off("keydown."+this.eventName)}},{key:"_keyUp",value:function(){var e=this;this.apply(null),(0,a.default)(window).on("keydown."+this.eventName,function(t){return e._keyDown(t)}).off("contextmenu."+this.eventName+" keyup."+this.eventName+" blur."+this.eventName)}},{key:"destroy",value:function(){(0,a.default)(window).off("keydown."+this.eventName+" contextmenu."+this.eventName+" keyup."+this.eventName+" blur."+this.eventName)}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.setting.body.setting,t=arguments[1];switch(t.type){case c.INIT_PLE:try{return s({},e,t.preference.body.setting)}catch(t){return e}case c.GRID_SETTING_UPDATE:return s({},e,t.value)}return e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=Object.assign({},e);switch(t.type){case c.INIT_PLE:var r={};try{if(t.preference.body.grid instanceof Array)t.preference.body.grid.forEach(function(e,t){r[t]=e});else{if("object"!==u(t.preference.body.grid))throw"error";r=t.preference.body.grid}Object.keys(r).forEach(function(e){n[g++]=s({color:h.setting.body.blockColor},r[e],{indexPrefix:y})})}catch(e){n={}}return n;case c.GRID_ADD_BLOCK:return n[g++]=s({color:h.setting.body.blockColor,layout:{x:1/0,y:1/0,w:1,h:1}},t.value,{indexPrefix:y}),n;case c.GRID_REMOVE_BLOCK:return t.keys&&t.keys.length?(t.keys.forEach(function(e){delete n[e]}),n):e;case c.GRID_SHUFFLE_BLOCKS:return Object.keys(n).map(function(e){return s({},n[e],{layout:{x:p.number.randomRange(0,t.value.x-1),y:p.number.randomRange(0,t.value.y-1),w:p.number.randomRange(1,t.value.w),h:p.number.randomRange(1,t.value.h)},indexPrefix:y++})});case c.GRID_DUPLICATE_BLOCK:return t.keys.forEach(function(e){n[e]&&(n[g++]=Object.assign({},n[e]))}),n;case c.GRID_CHANGE_COLOR:return t.keys.forEach(function(e){n[e]&&(n[e].color=t.color)}),n;case c.GRID_ATTACH_IMAGES:return p.object.isArray(t.value)?(t.activeBlocks&&t.activeBlocks.length?Object.keys(n).forEach(function(e){t.value.length&&-1!==t.activeBlocks.indexOf(e)&&(n[e].image={src:t.value.splice(0,1)[0],position:"50% 50%",size:"cover"})}):(Object.keys(n).forEach(function(e){n[e].image||t.value&&t.value.length&&(n[e].image={src:t.value.splice(0,1)[0],position:"50% 50%",size:"cover"})}),t.value.length&&t.value.forEach(function(r,o){n[g++]={color:h.setting.body.blockColor,layout:{x:(Object.keys(e).length+o)%t.columns,y:1/0,w:1,h:1},image:{src:r,position:"50% 50%",size:"cover"},indexPrefix:y}})),n):e;case c.GRID_ATTACH_IMAGE:return t.image&&"string"==typeof t.image&&n[t.keys]?(n[t.keys].image={src:t.image,position:"50% 50%",size:"cover"},n):e;case c.GRID_UPDATE_BLOCKS:return Object.assign({},e,t.value);case c.CROPPER_CLOSE:return n[t.key]?(t.position&&(n[t.key].image.position=t.position),t.size&&(n[t.key].image.size=t.size),n):e}return e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=Object.assign([],e);switch(t.type){case c.GRID_ACTIVE_BLOCK:return t.value;case c.GRID_REMOVE_BLOCK:return t.keys&&t.keys.length?(t.keys.forEach(function(e){n.indexOf(e)<0||n.splice(n.indexOf(e),1)}),n):[]}return e}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.setting=o,t.grid=i,t.activeBlock=a;var l=n(4),c=r(l),f=n(2),p=r(f),d=n(16),h=r(d),g=0,y=0},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.side,t=arguments[1],n=Object.assign({},e),r={};switch(t.type){case u.INIT_PLE:try{return t.preference.side.files.forEach(function(e){r[c++]={image:e,active:!1}}),i({},e,t.preference.side,{files:i({},e.files,r)})}catch(t){return e}case u.SIDE_VISIBLE:return i({},e,{visible:t.value});case u.SIDE_TOGGLE:return i({},e,{visible:!e.visible});case u.SIDE_ADD_FILES:return t.files.forEach(function(e){r[c++]={image:e,active:!1}}),i({},n,{files:i({},n.files,r)});case u.SIDE_REMOVE_FILES:return t.keys.length?(t.keys.forEach(function(e){delete n.files[e]}),n):e;case u.SIDE_UPDATE_SELECTED:return t.value&&Object.keys(t.value).length?(Object.keys(t.value).forEach(function(e){n.files[e]&&(n.files[e].active=t.value[e].active)}),n):e;case u.SIDE_UPDATE_PROGRESS:return i({},e,{progressPercent:t.value});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var a=n(4),u=r(a),s=n(16),l=r(s),c=0},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case u.CROPPER_OPEN:return!0;case u.CROPPER_CLOSE:return!1;default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case u.CROPPER_OPEN:return t.item;case u.CROPPER_CLOSE:return null;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case u.CROPPER_OPEN:return t.key;case u.CROPPER_CLOSE:return null;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.visible=r,t.item=o,t.key=i;var a=n(4),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){this.side=new a.default(e),this.grid=new s.default(e),this.cropper=new c.default(e),this.util=new p.default(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(117),a=r(i),u=n(118),s=r(u),l=n(119),c=r(l),f=n(120),p=r(f)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(6),u=r(a),s=n(2),l=r(s),c=function(){function e(t){o(this,e),this.store=t,this.uploading=!1}return i(e,[{key:"getKeys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.store.getState(),r=n.tree.side.files,o=[];switch(e){case"selected":Object.keys(r).forEach(function(e){r[e].active&&o.push(parseInt(e))});break;case"value":t.forEach(function(e){r[e]&&o.push(parseInt(e))});break;case"all":default:o=Object.keys(r).map(function(e){return parseInt(e)})}return o}},{key:"getItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState(),n=t.tree.side;e=this.getKeys("value",e);var r={};return e.forEach(function(e){n.files[e]&&(r[e]=n.files[e])}),r}},{key:"getImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.getItems(e);return Object.keys(t).map(function(e){return t[e].image})}},{key:"add",value:function(e){try{if(!(e instanceof Array))throw new Error("not found files");this.store.dispatch(u.side.addFiles(e))}catch(e){return e}}},{key:"selection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var n={},r=this.getKeys("value",e);if(r.length<=0)throw new Error("not found select item");r.forEach(function(e){n[e]={key:e,active:t}}),this.store.dispatch(u.side.updateSelected(n))}catch(e){return e}}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.store.dispatch(u.side.updateSelected(e))}},{key:"toggleSelectAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("boolean"==typeof e){var t=this.getKeys("all");this.selection(t,e)}else{var n=this.getKeys("selected").length,r=this.getKeys("all");this.selection(r,!(n>0))}}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{if(!e.length)throw new Error("Not found items.");this.store.dispatch(u.side.removeFiles(e))}catch(e){return e}}},{key:"clear",value:function(){var e=this.getKeys("all");this.store.dispatch(u.side.removeFiles(e))}},{key:"upload",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.uploading){var r=this.store.getState();this.uploading=!0,n.start&&n.start(),l.uploader(e,r.setting.base.uploadScript).progress(function(e,o){switch(e){case"start":t.store.dispatch(u.side.updateProgress(0));break;case"progress":var i=parseInt(o.loaded/o.total*100);t.store.dispatch(u.side.updateProgress(i)),n.progress&&n.progress(o.loaded,o.total,i);break;case"done":if(t.store.dispatch(u.side.updateProgress(null)),!o.data)return;if(r.setting.base.uploadParamsConvertFunc){var a=r.setting.base.uploadParamsConvertFunc(o.data);t.store.dispatch(u.side.addFiles([a]))}else t.store.dispatch(u.side.addFiles([o.data.url]));return void(n.complete&&n.complete(o.data))}}).done(function(){t.uploading=!1,n.completeAll&&n.completeAll()}).fail(function(e){t.uploading=!1,n.fail&&n.fail(e)})}}},{key:"attachToGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState(),n=t.tree.body;try{var r=this.getImages(e);if(!r.length)throw new Error("not found item.");this.store.dispatch(u.body.attachImages(r,n.setting.column,n.activeBlock))}catch(e){return e}}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(6),s=r(u),l=n(2),c=(r(l),function(){function e(t){o(this,e),this.store=t}return a(e,[{key:"getKeys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.store.getState(),r=n.tree.body,o=[];switch(e){case"selected":return r.activeBlock;case"value":return o=[],t.forEach(function(e){r.grid[e]&&o.push(e)}),o;case"all":default:return Object.keys(r.grid).map(function(e){return e})}}},{key:"getBlocks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.store.getState(),r=n.tree.body,o=[],i={};switch(e){case"selected":o=this.getKeys("selected");break;case"value":o=this.getKeys("value",t);break;case"all":default:return r.grid}return o.forEach(function(e){r.grid[e]&&(i[e]=r.grid[e])}),i}},{key:"shuffle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.store.getState(),n=t.tree.body,r={x:n.setting.column,y:2,w:2,h:2};e=Object.assign({},r,e),this.store.dispatch(s.body.shuffleBlocks(e))}},{key:"assignImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState(),n=t.tree.body;this.store.dispatch(s.body.attachImages(e,n.setting.column,n.activeBlock))}},{key:"assignImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!==e&&null!==t&&this.store.dispatch(s.body.attachImage(e,t))}},{key:"removeImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState(),n=Object.assign({},t.tree.body.grid);e.forEach(function(e){n[e].image=null}),this.update(n)}},{key:"add",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({},l,e),e.layout=Object.assign({},l.layout,e.layout),e.image=e.image?i({src:null,position:"50% 50%",size:"cover"},e.image):null,o(s.body.addBlock(e))}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.store,r=n.getState,o=n.dispatch,a=r(),u=a.tree.body,l={layout:{x:Object.keys(u.grid).length%u.setting.column,y:1/0,w:1,h:1},color:null,image:null};t=t&&t.length?t:[null],t.forEach(function(t){return e(t)})}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.store.dispatch(s.body.updateBlocks(e))}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.store.dispatch(s.body.removeBlock(e))}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e=e.map(function(e){return e.toString()}),this.store.dispatch(s.body.activeBlock(e))}},{key:"unselect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState(),n=Object.assign([],t.tree.body.activeBlock);e.forEach(function(e){e=e.toString(),-1!==n.indexOf(e)&&n.splice(n.indexOf(e),1)}),this.store.dispatch(s.body.activeBlock(n))}},{key:"toggleSelectAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.store.getState();"boolean"!=typeof e&&(e=!t.tree.body.activeBlock.length),e?this.select(this.getKeys("all")):this.select([])}},{key:"duplicate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.store.dispatch(s.body.duplicateBlock(e))}},{key:"getPreference",value:function(){return this.store.getState().tree.body.setting}},{key:"setPreference",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},this.getPreference(),e);this.store.dispatch(s.body.updateSetting(t))}}]),e}());t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),u=function(){function e(t){r(this,e),this.store=t}return o(e,[{key:"open",value:function(e){var t=this.store.getState(),n=null;try{if(n=t.tree.body.grid[e],!n.image)throw"Not found image in item"}catch(e){return void alert(e)}this.store.dispatch(a.cropper.open(e,n))}},{key:"close",value:function(e,t,n){this.store.dispatch(a.cropper.close(e,t,n))}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(5),s=function(e){return e&&e.__esModule?e:{default:e}}(u),l=n(6),c=r(l),f=n(2),p=r(f),d=n(30),h=function(){function e(t){o(this,e),this.store=t}return a(e,[{key:"toggleSide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;try{var t=this.store.getState().tree.side.visible,n=void 0===e?!t:e;this.store.dispatch(c.side.visible(n))}catch(e){console.warn("Error action",e)}}},{key:"export",value:function(){function e(){if(!r)return[];var e=o.api.side.getKeys("all");return o.api.side.getImages(e)}function t(){var e=o.api.grid.getBlocks("all");return Object.keys(e).sort().map(function(t){return delete e[t].indexPrefix,!r&&e[t]&&e[t].image&&delete e[t].image,e[t]})}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!n)return null;var o=this.store.getState();switch(n){case"side":return e();case"grid":return t();case"preference":return o.api.grid.getPreference();case"all":return{side:e(),grid:t(),preference:function(){return o.api.grid.getPreference()}()}}return null}},{key:"import",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=this.store.getState();e.side&&(0,d.isArray)(e.side)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&n.api.side.clear(),n.api.side.add(e)}(e.side),e.grid&&(0,d.isArray)(e.grid)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var r=n.api.grid.getKeys("all");n.api.grid.remove(r)}n.api.grid.add(e)}(e.grid),e.preference&&"object"===i(e.preference)&&n.api.grid.setPreference(e.preference)}}},{key:"makeImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jpg",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=s.default.Deferred(),i=this.store.getState(),a=i.tree.body,u=a.setting,l=a.grid;return p.makingImage(i.element.querySelector(".ple-grid"),{setting:u,grid:l},{format:e,quality:t,sampling:n,output:r}).done(function(e){o.resolve(e)}).progress(function(e,t,n){o.notify(e,t,n)}).fail(function(e){o.reject(e)}),o.promise()}}]),e}();t.default=h},function(e,t){}]).default});